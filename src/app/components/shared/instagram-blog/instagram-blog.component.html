<!-- Instagram Blog Section Start -->
<div class="instagram-blog-section">
  <!-- Section Title -->
  <div class="section-title-wrap section-header flex-header" *ngIf="showTitle">
    <div class="section-title-text">
      <h5 class="custom-primary">Social Media</h5>
      <h2 class="title">Latest from Instagram</h2>
      <p>Follow us on Instagram for the latest venue updates and inspiration</p>
    </div>
    <a href="https://www.instagram.com/{{account}}/" target="_blank" class="btn-custom primary">
      <i class="fab fa-instagram"></i> Follow Us
    </a>
  </div>

  <!-- Loading State -->
  <div class="loading-container text-center" *ngIf="loading">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading Instagram posts...</span>
    </div>
    <p class="mt-3">Loading Instagram posts...</p>
  </div>

  <!-- Error State -->
  <div class="error-container text-center" *ngIf="error && !loading">
    <div class="alert alert-danger" role="alert">
      <i class="fas fa-exclamation-triangle"></i>
      {{ error }}
    </div>
    <button class="btn btn-outline-primary" (click)="refreshPosts()">
      <i class="fas fa-refresh"></i> Try Again
    </button>
  </div>

  <!-- Instagram Thumbnails Grid -->
  <div class="instagram-posts-grid" *ngIf="!loading && !error && instagramPosts.length > 0">
    <div class="row">
      <div 
        class="instagram-post-wrapper {{ getGridClass() }} mb-4"
        *ngFor="let post of instagramPosts; trackBy: trackByPostId">

        <div class="instagram-thumbnail-container">
          <a [href]="post.url" target="_blank" rel="noopener noreferrer">
            <img 
              [src]="instagramService.getThumbnailUrl(post)" 
              alt="{{ post.title || 'Instagram post' }}" 
              class="img-fluid rounded shadow-sm w-100"
              (error)="onImgError($event)"
            />
          </a>
        </div>

        <!-- Post Title & Date -->
        <div class="instagram-post-meta mt-2 text-center">
          <h6 class="post-title mb-1" *ngIf="post.title">{{ post.title }}</h6>
          <small class="post-date text-muted" *ngIf="post.created_at">
            <i class="fas fa-calendar"></i>
            {{ post.created_at | date:'mediumDate' }}
          </small>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state text-center" *ngIf="!loading && !error && instagramPosts.length === 0">
    <div class="empty-state-icon">
      <i class="fab fa-instagram fa-4x text-muted"></i>
    </div>
    <h4 class="mt-3">No Instagram Posts</h4>
    <p class="text-muted">No Instagram posts are currently available.</p>
    <a href="https://www.instagram.com/{{account}}/" target="_blank" class="btn btn-primary">
      <i class="fab fa-instagram"></i> Visit Instagram
    </a>
  </div>

  <!-- Instagram Attribution -->
  <div class="instagram-attribution text-center mt-4" *ngIf="instagramPosts.length > 0">
    <p class="text-muted">
      <small>
        <i class="fab fa-instagram"></i>
        Follow <a href="https://www.instagram.com/{{account}}/" target="_blank" class="text-decoration-none">@{{account}}</a> for more updates
      </small>
    </p>
  </div>
</div>
<!-- Instagram Blog Section End -->
