<div class="container">
    <div class="tint-search detail-page-search">
        <div
            class="row justify-content-center search-bar search_bar_listing_page"
            style="margin-left: 50px"
        >
            <div class="city-field col-md-3 p-p-0" style="width: 120px">
                <span class="p-fluid">
                    <label for="" class="icons-image">
                        <img
                            src="assets/images/category-icons/celebration.svg"
                        />
                    </label>
                    <p-autoComplete
                        [(ngModel)]="sOccasion"
                        (onSelect)="onClickOccasionCategory($event)"
                        (onClear)="onClickOccasionCategory($event)"
                        placeholder="Occasion"
                        class="occasion-list detail-occasion-list"
                        [dropdown]="true"
                        [suggestions]="filterOccasion"
                        (completeMethod)="filterCategory($event)"
                        field="name"
                    ></p-autoComplete>
                    <!-- <p-dropdown [options]="occasion" [(ngModel)]="selectedOccasion1" placeholder="Occasion"
                        optionLabel="name" [showClear]="true" class="occasion-drop"></p-dropdown> -->
                </span>
            </div>
            <div class="serch-bar-field col-3 p-p-0">
                <span class="p-fluid">
                    <label for="" class="icons-image search-icon">
                        <img
                            src="assets/images/category-icons/search.png"
                            class="search-icon"
                        />
                    </label>
                    <p-autoComplete
                        [ngModelOptions]="{ standalone: true }"
                        [(ngModel)]="selectedFilter"
                        [suggestions]="filteredList"
                        (completeMethod)="search($event)"
                        (onSelect)="onSelectSearch($event)"
                        (onUnselect)="onClearResetAllData($event)"
                        field="name"
                        placeholder="City/Area/Venue/Restaurant/Banquet"
                        [multiple]="true"
                    >
                        <ng-template let-item pTemplate="item">
                            <div class="flex align-items-center">
                                {{ item.name }}
                                <span *ngIf="item.mode == 'subarea'">
                                    <span *ngIf="item.cityname"
                                        >, {{ item.cityname }}</span
                                    >
                                    <span *ngIf="item.statename"
                                        >, {{ item.statename }}</span
                                    >
                                </span>
                            </div>
                        </ng-template>
                    </p-autoComplete>
                </span>
            </div>
            <div class="col-2 guest_field_list p-p-0">
                <div class="Guest-field">
                    <label for="" class="icons-image">
                        <img src="assets/images/svg-icons/guest-icon.svg" />
                    </label>
                    <p-dropdown
                        class=""
                        [options]="filterGuestArray"
                        placeholder="Guest Count"
                        optionLabel="label"
                        [(ngModel)]="selectedVenueCapacity"
                        (onChange)="onCapacitySelect($event.value)"
                        [editable]="true"
                        class="guest-count"
                    ></p-dropdown>
                    <!-- <p-button [label]="selectedProduct ? selectedProduct.name : 'Guest Count'"
                    (click)="op.toggle($event)"></p-button> -->
                </div>
                <p-overlayPanel #op [showCloseIcon]="false">
                    <ng-template pTemplate>
                        <div class="p-field p-col-12 p-md-12 gest-count-module">
                            <div class="gets-count-list">
                                <label for="horizontal">Adults</label>
                                <p-inputNumber
                                    [(ngModel)]="value18"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Children</label>
                                <p-inputNumber
                                    [(ngModel)]="value19"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Infants</label>
                                <p-inputNumber
                                    [(ngModel)]="value20"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Pets</label>
                                <p-inputNumber
                                    [(ngModel)]="value21"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                        </div>
                    </ng-template>
                </p-overlayPanel>
            </div>
            <div class="col-md-auto calendar-div p-p-0">
                <label for="" class="icons-image"
                    ><img src="assets/images/svg-icons/calender-icon.svg"
                /></label>
                <p-calendar
                    #searchCalendar
                    dateFormat="dd/mm/yy"
                    [minDate]="minDateValue"
                    [disabledDates]="disabledDates"
                    [(ngModel)]="rangeDates"
                    appendTo="body"
                    placeholder="Date"
                    selectionMode="range"
                    [readonlyInput]="true"
                    inputId="range"
                    [numberOfMonths]="1"
                    (onSelect)="onClickEventDate($event)"
                >
                    <!-- <ng-template pTemplate="footer">
                        <p-button label="Clear" icon="pi pi-filter-slash"
                            styleClass="p-button-raised p-button-text p-button-danger p-button-sm clear-btn-bottom"
                            (click)="onClickClear()"></p-button>
                        <p-button label="Close" icon="pi pi-times" (click)="onClickCalendarClose()"
                            styleClass="p-button-sm p-button-raised p-button-text p-button-danger close-btn-bottom"></p-button>
                    </ng-template> -->
                </p-calendar>
                <!-- <p-calendar [(ngModel)]="rangeDates" placeholder="Date" selectionMode="range" [readonlyInput]="true"
                    inputId="range" [numberOfMonths]="1"></p-calendar> -->
                <button
                    (click)="onClickSearch()"
                    pButton
                    pRipple
                    type="button"
                    icon="pi pi-search"
                    class="p-button-rounded p-button-danger secondary btn-custom secondary"
                ></button>
            </div>
        </div>
    </div>
</div>

<div class="book-btn row justify-content-center">
    <!-- <div class="col-12 text-center">
        <p-button *ngIf="!showAvailabilityMessage" class="detailsfilter" (click)="venueDetailfilter()" >{{!showAvailabilityMessage}} Book Now</p-button>
        <p-button *ngIf="showAvailabilityMessage" class="detailsfilter" (click)="venueDetailfilter()" label="Send Enquiries"></p-button>
    </div> -->
</div>
<div [ngStyle]="{
    'display': isMobile ? 'flex' : 'none',
    'width': '100%',
    'margin': '0',
    'padding': '0',
    'background-color': '#ff0018',
    'position': isMobile ? 'fixed' : 'static',
    'bottom': isMobile ? '0' : 'auto',
    'left': isMobile ? '0' : 'auto',
    'z-index': isMobile ? '999' : 'auto'
  }">
    <button
      (click)="venueDetailfilter()"
      style="flex: 1; border: none; outline: none; background-color: transparent; color: white; font-weight: 500; font-size: 16px; padding: 15px 0; cursor: pointer; font-family: Arial, sans-serif;">
      Book Now
    </button>
    <div style="width: 1px; background-color: white;"></div>
    <button
      (click)="venueSendquery()"
      style="flex: 1; border: none; outline: none; background-color: transparent; color: white; font-weight: 500; font-size: 16px; padding: 15px 0; cursor: pointer; font-family: Arial, sans-serif;">
      Enquire Now
    </button>
  </div>

<div class="section-venuelisting-details" *ngIf="venueDetails">
    <div class="section listing-wrapper">
        <div class="container-fluid">
            <div class="top-link">
                <div class="row">
                    <div class="col-8">
                        <div
                            class="BreadCrumbs regular"
                            style="line-height: normal"
                        >
                            <span class="crumb">
                                <a href="/" class="display-name text-tertiary"
                                    >Home</a
                                >
                            </span>
                            <span class="crumb">
                                <a
                                    class="display-name text-tertiary"
                                    href="/banquet-halls"
                                    >Venue</a
                                >
                            </span>
                            <span>
                                <a class="display-name text-tertiary active"
                                    >Venue Detail</a
                                >
                            </span>
                        </div>
                    </div>
                    <div class="col-4 detail-page-top-buttons">
                        <div class="row">
                            <div class="col-6 pl-0 text-right">
                                <p-button
                                    *ngIf="!showAvailabilityMessage"
                                    class="venuedetailbook"
                                    (click)="venueDetailfilter()"
                                >
                                    Book Now</p-button
                                >
                                <p-button
                                    *ngIf="showAvailabilityMessage"
                                    class="venuedetailbook"
                                    (click)="venueDetailfilter()"
                                >
                                    Send Enquiries</p-button
                                >
                            </div>
                            <div class="col-6 text-left">
                                <p-button
                                    class="venuedetailfilter"
                                    (click)="showVenueDetailSearch()"
                                >
                                    Search</p-button
                                >
                            </div>
                        </div>

                        <!-- <p-button class="venuedetailbook" (click)="venueDetailfilter()"> Book Now</p-button> -->
                    </div>
                </div>
            </div>
            <div class="heading">
                <h1
                    *ngIf="venueDetails"
                    style="font-weight: 600"
                    class="venuename"
                >
                    {{ venueDetails.name }} - {{ venueDetails.subarea }},
                    {{ venueDetails.cityname }}
                </h1>
            </div>
            <div class="row">
                <div class="col-lg-8">
                    <div class="listing-content">
                        <div class="left-bar-top-header">
                            <div class="heading-and-title">
                                <div class="header-details-top">
                                    <div class="address-and-review">
                                        <div class="address-list">
                                            <ul>
                                                <li>
                                                    <div
                                                        class="location details"
                                                    >
                                                        <div class="icon">
                                                            <img
                                                                src="assets/images/icons/location-icon.png"
                                                                alt=""
                                                            />
                                                        </div>
                                                        <div
                                                            class="location-title"
                                                        >
                                                            <!-- <h5 class="address-title">{{venueDetails.cityname}}</h5> -->
                                                            <h5
                                                                class="mb-0 subarea-title"
                                                                style="
                                                                    font-weight: 400;
                                                                "
                                                            >
                                                                {{
                                                                    venueDetails.subarea
                                                                }}<span
                                                                    *ngIf="
                                                                        venueDetails.subarea
                                                                    "
                                                                    >, </span
                                                                >{{
                                                                    venueDetails.cityname
                                                                }}
                                                            </h5>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="google-review">
                                                    <div
                                                        class="row review-details"
                                                    >
                                                        <div class="vl"></div>

                                                        <div
                                                            class="col rating-list-1"
                                                        >
                                                            <div
                                                                class="location details"
                                                            >
                                                                <div
                                                                    class="icon"
                                                                >
                                                                    <img
                                                                        src="assets/img/svg/google.png"
                                                                        alt=""
                                                                    />
                                                                </div>
                                                                <div
                                                                    class="star"
                                                                >
                                                                    <span>
                                                                        <i
                                                                            class="pi pi-star-fill"
                                                                        ></i>
                                                                    </span>
                                                                    <span
                                                                        style="
                                                                            font-size: 14px;
                                                                            color: black;
                                                                        "
                                                                        *ngIf="
                                                                            venueDetails
                                                                        "
                                                                        ><b>
                                                                            {{
                                                                                venueDetails.googleRating
                                                                            }}</b
                                                                        >/5</span
                                                                    >
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="vl"></div>
                                                        <div
                                                            class="col rating-list-1"
                                                        >
                                                            <div
                                                                class="location details"
                                                            >
                                                                <div
                                                                    class="icon"
                                                                >
                                                                    <img
                                                                        src="assets/layout/images/pages/logo.png"
                                                                        alt=""
                                                                    />
                                                                </div>
                                                                <div
                                                                    class="star"
                                                                >
                                                                    <span>
                                                                        <i
                                                                            class="pi pi-star-fill"
                                                                        ></i>
                                                                    </span>
                                                                    <span
                                                                        style="
                                                                            font-size: 14px;
                                                                            color: black;
                                                                        "
                                                                        *ngIf="
                                                                            venueDetails
                                                                        "
                                                                        ><b>
                                                                            {{
                                                                                venueDetails.eazyVenueRating
                                                                            }}</b
                                                                        >/5</span
                                                                    >
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="booked-people">
                                <ul
                                    class="d-flex justify-content-end icons-view"
                                >
                                    <li>
                                        <div class="media">
                                            <div class="icon">
                                                <img
                                                    class="mr-3"
                                                    src="assets/img/svg/user-check.svg"
                                                />
                                            </div>
                                            <div class="media-body">
                                                <h5 class="mt-0">
                                                    People Booked :
                                                    <span
                                                        class="peoples-number"
                                                        >{{
                                                            totalPeopleBooked
                                                        }}</span
                                                    >
                                                </h5>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="media">
                                            <div class="icon">
                                                <img
                                                    class="mr-3"
                                                    src="assets/img/svg/eye.svg"
                                                />
                                            </div>
                                            <div class="media-body">
                                                <h5 class="mt-0">
                                                    Views :
                                                    <span
                                                        class="peoples-number"
                                                        >{{
                                                            currentViews
                                                        }}</span
                                                    >
                                                </h5>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- <div class="category">
                                <p-avatarGroup styleClass="mb-3">
                                    <p-avatar *ngFor="let occasion of occasionArray" image="{{occasion.categoryImage}}"
                                        size="large" shape="circle" pTooltip="{{occasion.name}}" tooltipPosition="top"
                                        [style]="{'width':'50px', 'height':'50px','color': '#ffffff', 'background-color':'#fff' , 'box-shadow' : 'inset 0px 1px 2px #00000029, 0px 3px 6px #00000029'}"></p-avatar>
                                </p-avatarGroup>
                            </div> -->
                        </div>

                        <div class="left-side-body">
                            <p-galleria
                                id="venue-images-gallery"
                                (click)="trackPageAction('viewedGallery')"
                                [(value)]="venueDetails.venueImage"
                                [responsiveOptions]="responsiveOptions"
                                [containerStyle]="{ 'max-width': '100%;' }"
                                [numVisible]="8"
                                [circular]="true"
                                [showItemNavigators]="true"
                                [showThumbnails]="true"
                                [showIndicators]="false"
                                [showItemNavigatorsOnHover]="true"
                                [showIndicatorsOnHover]="true"
                                thumbnailsPosition="bottom"
                            >
                                <ng-template pTemplate="item" let-item>
                                    <img
                                        [src]="item.venue_image_src"
                                        style="width: 100%; display: block"
                                    />
                                </ng-template>
                                <!-- <ng-template pTemplate="caption" let-item>
                                    <h4 style="margin-bottom: .5rem; color: #ffffff;">test</h4>
                                    <p></p>
                                </ng-template> -->
                                <ng-template pTemplate="thumbnail" let-item>
                                    <div
                                        class="p-grid p-nogutter p-justify-center p-galleria-thumbnail-wrapper"
                                        style="padding: 10px"
                                    >
                                        <img
                                            [src]="item.venue_image_src"
                                            style="display: block"
                                        />
                                    </div>
                                </ng-template>
                            </p-galleria>
                        </div>

                        <div class="about-section">
                            <div *ngIf="venueDetails" class="col-md-12">
                                <div class="row justify-content-between">
                                    <div class="col-12">
                                        <div class="div-left">
                                            <div class="about-venues-occassion">
                                                <h2 class="head-about">
                                                    About Venues
                                                </h2>
                                                <div class="category">
                                                    <p-avatarGroup
                                                        styleClass="mb-3"
                                                    >
                                                        <p-avatar
                                                            *ngFor="
                                                                let occasion of occasionArray
                                                            "
                                                            class="about-us-icons"
                                                            image="{{
                                                                occasion.image_src
                                                            }}"
                                                            size="large"
                                                            shape="circle"
                                                            pTooltip="{{
                                                                occasion.name
                                                            }}"
                                                            tooltipPosition="top"
                                                            [ngClass]="
                                                                occasion.selected
                                                                    ? 'occasion-active-top'
                                                                    : ''
                                                            "
                                                            [style]="{
                                                                width: '40px',
                                                                padding: '4px',
                                                                height: '40px',
                                                                color: '#ffffff',
                                                                'background-color':
                                                                    '#fff',
                                                                'box-shadow':
                                                                    'inset 0px 1px 2px #00000029, 0px 3px 6px #00000029'
                                                            }"
                                                        ></p-avatar>
                                                    </p-avatarGroup>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="about-venue">
                                            <span
                                                [innerHTML]="
                                                    venueDetails.shortdescription
                                                "
                                            ></span>
                                        </p>
                                    </div>
                                    <!-- <div class="col">
                                        <ul class="d-flex justify-content-end icons-view">
                                            <li>
                                                <div class="media">
                                                    <div class="icon">
                                                        <img class="mr-3" src="assets/img/svg/user-check.svg">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="mt-0">People Booked :
                                                            <span>{{totalPeopleBooked}}</span>
                                                        </h5>
                                                    </div>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="media">
                                                    <div class="icon">
                                                        <img class="mr-3" src="assets/img/svg/eye.svg">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="mt-0">Views : <span>{{currentViews}}</span></h5>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div> -->
                                </div>
                                <hr class="border-top-first mt-4 mb-2" />
                                <div class="row services-section">
                                    <div
                                        class="col-lg-3 col-md-3 col-sm-6 amenities_1"
                                    >
                                        <div class="media">
                                            <div class="media-left">
                                                <div class="icon area-size">
                                                    <img
                                                        src="assets/images/category-icons/area.svg"
                                                    />
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <h4 class="amenities-size">
                                                    Area
                                                </h4>
                                                <h5>
                                                    {{ venueDetails.area }} Sq.
                                                    m.
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="col-lg-3 col-md-3 col-sm-6 amenities_1"
                                    >
                                        <div class="media">
                                            <div class="media-left">
                                                <div class="icon capacity-size">
                                                    <img
                                                        src="assets/images/category-icons/capacity.svg"
                                                    />
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <h4 class="amenities-size">
                                                    Capacity
                                                </h4>
                                                <h5>
                                                    {{
                                                        venueDetails.capacity
                                                    }}
                                                    People
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="col-lg-3 col-md-3 col-sm-6 amenities_1"
                                    >
                                        <div class="media">
                                            <div class="media-left">
                                                <div
                                                    class="icon round-table-size"
                                                >
                                                    <img
                                                        src="assets/images/category-icons/round-table.svg"
                                                    />
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <h4 class="amenities-size">
                                                    Round Table
                                                </h4>
                                                <h5>
                                                    {{
                                                        venueDetails.roundTable
                                                    }}
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="col-lg-3 col-md-3 col-sm-6 amenities_1"
                                    >
                                        <div class="media">
                                            <div class="media-left">
                                                <div
                                                    class="icon theater-seats-size"
                                                >
                                                    <img
                                                        class="theater-seats-icon"
                                                        src="assets/images/category-icons/theater-seats.svg"
                                                    />
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <h4 class="amenities-size">
                                                    Theater Seats
                                                </h4>
                                                <h5>
                                                    {{
                                                        venueDetails.theaterSitting
                                                    }}
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr class="mt-2 mb-2" />
                                <div
                                    class="div facility-text"
                                    style="text-align: justify"
                                >
                                    <span
                                        class="facility-title"
                                        [innerHTML]="venueDetails.description"
                                    ></span>
                                </div>
                                <hr class="mb-2" />
                                <div class="div">
                                    <h2 (click)="trackPageAction('viewedAmenities')">Amenities</h2>
                                    <div class="row services-section amenities" (click)="trackPageAction('viewedAmenities')">
                                        <!-- Legacy amenities -->
                                        <div *ngFor="let amenity of venueDetails.amenitiesArray"
                                             class="col-lg-3 col-md-3 col-sm-6 amenities_1">
                                            <div class="media" *ngIf="amenity.enabled">
                                                <div class="media-left">
                                                    <div class="icon ac-icon">
                                                        <img [src]="'assets/images/amenities/' + amenity.icon"
                                                             [alt]="amenity.name"
                                                             onerror="this.src='assets/images/amenities/default-amenity.png'">
                                                    </div>
                                                </div>
                                                <div class="media-body">
                                                    <h4 class="amenities-size">{{ amenity.name }}</h4>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- New amenities -->
                                        <div *ngFor="let amenity of venueDetails.amenities"
                                             class="col-lg-3 col-md-3 col-sm-6 amenities_1">
                                            <div class="media">
                                                <div class="media-left">
                                                    <div class="icon ac-icon">
                                                        <img [src]="getAmenityIcon(amenity)"
                                                             [alt]="amenity"
                                                             onerror="this.src='assets/images/amenities/default-amenity.png'">
                                                    </div>
                                                </div>
                                                <div class="media-body">
                                                    <h4 class="amenities-size">{{ amenity }}</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Menu PDF Section -->
                                <div class="div" *ngIf="venueDetails.menuPDF">
                                    <h2>Menu PDF</h2>
                                    <div class="row menu-pdf-section">
                                        <div class="col-12">
                                            <div class="pdf-card p-3 d-flex align-items-center justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <i class="pi pi-file-pdf text-danger" style="font-size: 2rem;"></i>
                                                    <div class="ms-3">
                                                        <h4 class="mb-0">{{ venueDetails.menuPDF.filename }}</h4>
                                                        <small class="text-muted">Uploaded: {{ venueDetails.menuPDF.uploadDate | date }}</small>
                                                    </div>
                                                </div>
                                                <button pButton
                                                        icon="pi pi-download"
                                                        class="p-button-outlined"
                                                        (click)="downloadMenuPDF()"
                                                        label="Download Menu">
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div *ngIf="venueDetails.venueVideo">
                                    <h2>Videos</h2>
                                    <video
                                        class="video-back"
                                        width="100%"
                                        controls=""
                                        loop=""
                                    >
                                        <!-- <source type="video/mp4" src="https://www.w3schools.com/html/mov_bbb.mp4" /> -->
                                        <source
                                            type="video/mp4"
                                            src="{{ venueDetails.venueVideo }}"
                                        />
                                    </video>
                                </div>
                                <hr class="mb-2" />
                                <!-- <hr>
                                <div>
                                    <h2>Where you'll be</h2>
                                </div>
                                <div class="mapouter">
                                    <div class="gmap_canvas">
                                        <iframe class="gmap_iframe" frameborder="0" scrolling="no" marginheight="0"
                                            marginwidth="0"
                                            src="https://maps.google.com/maps?width=600&height=400&hl=en&q=mumbai&t=&z=14&ie=UTF8&iwloc=B&output=embed"></iframe>
                                    </div>
                                    <style>
                                        .mapouter {
                                            position: relative;
                                            text-align: right;
                                            width: 100%;
                                            height: 100%;
                                        }
                                        .gmap_canvas {
                                            overflow: hidden;
                                            background: none !important;
                                            width: 100%;
                                            height: 100%;
                                        }
                                        .gmap_iframe {
                                            width: 100% !important;
                                            height: 500px !important;
                                        }
                                    </style>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>


                <div class="col-lg-4 sidebar-right">
                    <p-toast key="toastMsg"></p-toast>
                    <div class="top-button">
                        <button
                            *ngIf="showSendEnquiries"
                            (click)="onClickSendEnquiries('send_enquires')"
                            pButton
                            class="btn btn-custom"
                        >
                            Send Enquiry
                        </button>
                    </div>
                    <div class="sidebar sticky-sidebar">
                        <div class="sidebar-widget">
                            <span
                                >Select Guest Count and Date in the top search
                                bar</span
                            >
                            <!-- <div class="Price">
                                <div class="real-rice">
                                    <h4>
                                        <del> ₹49, 372</del>
                                        <span *ngIf="isLoggedIn" class="original-price">
                                            {{venuePrice|currency:'INR'}}</span>
                                    </h4>
                                </div>
                                <div class="newdate disable">
                                    <h3>More than one day</h3>
                                    <p-inputSwitch [(ngModel)]="checked1"></p-inputSwitch>
                                </div>
                            </div> -->
                            <div
                                class="col-md-12 right-collapsed-form filter-div"
                            >
                                <p-accordion [multiple]="true">
                                    <p-accordionTab
                                        header="Occasion"
                                        class="occasion-tab"
                                    >
                                        <ng-template pTemplate="header">
                                            <i
                                                class="pi pi-info-circle info-icon ml-2"
                                                pTooltip="Select your desired event category"
                                                tooltipPosition="bottom"
                                                showDelay="100"
                                                hideDelay="100"
                                            ></i>
                                            <!-- <div class="selected-list col-md-12 p-0"> -->
                                            <div
                                                *ngFor="
                                                    let occasion of selectedOccasionNames
                                                "
                                                class="div selected-list"
                                            >
                                                <span>
                                                    : {{ occasion.name }}</span
                                                >
                                            </div>
                                            <!-- </div> -->
                                        </ng-template>
                                        <div class="occasion-list">
                                            <div class="col-md-12 p-0">
                                                <div
                                                    *ngIf="
                                                        occasionArray.length > 0
                                                    "
                                                    class="div"
                                                >
                                                    <p-carousel
                                                        [value]="occasionArray"
                                                        styleClass="custom-carousel"
                                                        [numVisible]="4"
                                                        [numScroll]="4"
                                                        [circular]="false"
                                                        [autoplayInterval]="
                                                            3000
                                                        "
                                                    >
                                                        <ng-template
                                                            let-occasion
                                                            pTemplate="item"
                                                        >
                                                            <div
                                                                (click)="
                                                                    onClickOccasion(
                                                                        occasion
                                                                    )
                                                                "
                                                                class="product-item"
                                                            >
                                                                <div
                                                                    [ngClass]="
                                                                        occasion.selected
                                                                            ? 'occasion-active-bottom'
                                                                            : ''
                                                                    "
                                                                    class="occasion-icon-top"
                                                                >
                                                                    <p-avatarGroup
                                                                        styleClass="mb-4"
                                                                    >
                                                                        <p-avatar
                                                                            class="no-circle"
                                                                            image="{{
                                                                                occasion.image_src
                                                                            }}"
                                                                            size=" large"
                                                                            pTooltip="{{
                                                                                occasion.name
                                                                            }}"
                                                                            tooltipPosition="top"
                                                                            [style]="{
                                                                                width: '37px',
                                                                                height: '37px',
                                                                                color: '#ffffff'
                                                                            }"
                                                                        ></p-avatar>
                                                                    </p-avatarGroup>
                                                                    <div
                                                                        class="div-title"
                                                                    >
                                                                        <h5>
                                                                            {{
                                                                                occasion.name
                                                                            }}
                                                                        </h5>
                                                                    </div>
                                                                    <!-- assets/images/category-icons/{{occasion.categoryImage}}.svg -->
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                                    </p-carousel>
                                                </div>
                                            </div>
                                            <div
                                                *ngIf="
                                                    occasionArray.length == 0
                                                "
                                                class="div"
                                            >
                                                Facilities at banquet not
                                                available.
                                            </div>
                                        </div>
                                    </p-accordionTab>

                                    <p-accordionTab header="Guest Count">
                                        <ng-template pTemplate="header">
                                            <i
                                                class="pi pi-info-circle info-icon ml-2"
                                                pTooltip="Specify the minimun number of guests attending"
                                                tooltipPosition="bottom"
                                                showDelay="100"
                                                hideDelay="100"
                                            ></i>
                                            <div
                                                *ngIf="
                                                    selectedVenueCapacity !=
                                                    undefined
                                                "
                                                class="p-0"
                                            >
                                                <span class="selected-list">
                                                    :
                                                    {{
                                                        selectedVenueCapacity
                                                    }}</span
                                                >
                                            </div>
                                        </ng-template>
                                        <p-dropdown
                                            class=""
                                            [options]="filterGuestArray"
                                            placeholder="Guest Count"
                                            optionLabel="label"
                                            [(ngModel)]="selectedVenueCapacity"
                                            (onChange)="
                                                onCapacitySelect($event.value)
                                            "
                                            [editable]="true"
                                            class="guest-count-dpd"
                                        ></p-dropdown>
                                    </p-accordionTab>
                                    <p-accordionTab
                                        header="Time Slot"
                                        class="time-slot-tab"
                                    >
                                        <ng-template pTemplate="header">
                                            <i
                                                class="pi pi-info-circle info-icon ml-2"
                                                pTooltip="Select a convenient time slot for your event"
                                                tooltipPosition="bottom"
                                                showDelay="100"
                                                hideDelay="100"
                                            ></i>
                                            <span class="selected-list">
                                                : {{ selectedStartDate }}</span
                                            >
                                            <span
                                                class="selected-list pl-0 pr-0"
                                                *ngIf="selectedEndDate"
                                                >-</span
                                            >
                                            <span
                                                class="selected-list"
                                                *ngIf="selectedEndDate"
                                                >{{ selectedEndDate }}
                                            </span>
                                            <span class="selected-list">{{
                                                selectedSlotsName
                                            }}</span>
                                        </ng-template>

                                        <div class="col-md-12 p-0 time-slots">
                                            <p-tabView
                                                *ngIf="slotList.length > 0"
                                                header="Time Slot"
                                            >
                                                <div class="row text-center">
                                                    <div
                                                        class="col text-center"
                                                        *ngFor="
                                                            let slot of slotList
                                                        "
                                                    >
                                                        <h5
                                                            class="decor-name pb-1 slot-name"
                                                        >
                                                            {{ slot.slot }}
                                                        </h5>
                                                        <p-radioButton
                                                            [value]="slot"
                                                            [(ngModel)]="
                                                                selectedSlot
                                                            "
                                                            (click)="
                                                                onSlotClick(
                                                                    slot
                                                                )
                                                            "
                                                        >
                                                        </p-radioButton>
                                                    </div>
                                                </div>
                                            </p-tabView>
                                            <p-tabView
                                                *ngIf="showAvailabilityMessage"
                                                header="Time Slot"
                                            >
                                                No slots available on this
                                                selected date range. You can
                                                request for enquiries.
                                            </p-tabView>
                                        </div>
                                    </p-accordionTab>
                                    <p-accordionTab header="Food Menu">
                                        <ng-template pTemplate="header">
                                            <i
                                                class="pi pi-info-circle info-icon ml-2"
                                                pTooltip="Choose your prefered food category"
                                                tooltipPosition="bottom"
                                                showDelay="100"
                                                hideDelay="100"
                                            ></i>
                                            <div
                                                *ngIf="
                                                    selectedFoodType !=
                                                    undefined
                                                "
                                                class="p-0"
                                            >
                                                <span class="selected-list">
                                                    :
                                                    {{
                                                        selectedFoodType.name
                                                    }}</span
                                                >
                                            </div>
                                            <div
                                                *ngIf="
                                                    selectedFoodMenuType !=
                                                    undefined
                                                "
                                                class="selected-list p-0"
                                            >
                                                <span>{{
                                                    selectedFoodMenuType.slug
                                                }}</span>
                                            </div>
                                        </ng-template>
                                        <div
                                            class="flex justify-content-center"
                                        >
                                            <div class="row food-style">
                                                <div
                                                    *ngFor="
                                                        let foodType of foodTypesListA
                                                    "
                                                    class="col-6 food-type-section"
                                                >
                                                    <p-radioButton
                                                        [value]="foodType"
                                                        [disabled]="
                                                            foodType.disable
                                                        "
                                                        [(ngModel)]="
                                                            selectedFoodType
                                                        "
                                                        (onClick)="
                                                            onFoodTypeClick(
                                                                foodType
                                                            )
                                                        "
                                                    >
                                                    </p-radioButton>
                                                    <label
                                                        [ngClass]="
                                                            foodType.disable
                                                                ? 'foodtype-disabled ml-2 food-type-text'
                                                                : 'ml-2 food-type-text'
                                                        "
                                                    >
                                                        <img
                                                            src="assets/images/food-pacakge/{{
                                                                foodType.slug
                                                            }}.png"
                                                            class="food-img"
                                                        />
                                                        {{ foodType.name }}
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="
                                                selectedFoodType != undefined
                                            "
                                            class="foodtypemenutext"
                                        >
                                            <p-accordionTab
                                                header="{{
                                                    selectedFoodType.name
                                                }}"
                                                [selected]="true"
                                                [style]="{
                                                    'margin-top': '10px'
                                                }"
                                            >
                                                <ng-template pTemplate="header">
                                                    <i
                                                        class="pi pi-info-circle info-icon ml-2"
                                                        pTooltip="Choose your platter size"
                                                        tooltipPosition="bottom"
                                                        showDelay="100"
                                                        hideDelay="100"
                                                    ></i>
                                                    <div
                                                        *ngIf="
                                                            selectedFoodMenuType !=
                                                            undefined
                                                        "
                                                        class="selected-list"
                                                    >
                                                        <span>
                                                            {{
                                                                selectedFoodMenuType.slug
                                                            }}</span
                                                        >
                                                    </div>
                                                </ng-template>
                                                <div
                                                    class="flex justify-content-center"
                                                >
                                                    <div class="row row-cols-5">
                                                        <div
                                                            *ngFor="
                                                                let foodMenuType of foodMenuTypes
                                                            "
                                                            class="col per-plate-price"
                                                        >
                                                            <div
                                                                class="package-box"
                                                                [ngClass]="
                                                                    foodMenuType.selected
                                                                        ? 'menulist'
                                                                        : ''
                                                                "
                                                            >
                                                                <h5
                                                                    class="plate-size"
                                                                >
                                                                    {{
                                                                        foodMenuType.slug
                                                                    }}
                                                                </h5>
                                                                <img
                                                                    src="assets/images/category-icons/plate.svg"
                                                                    class="food-img"
                                                                />
                                                            </div>
                                                            <div
                                                                class="price-list"
                                                            >
                                                                <h5
                                                                    class="plate-price"
                                                                    [ngClass]="
                                                                        foodMenuType.selected
                                                                            ? 'menulistprice'
                                                                            : ''
                                                                    "
                                                                >
                                                                    {{
                                                                        foodMenuType.value
                                                                            | currency
                                                                                : "INR"
                                                                    }}
                                                                </h5>
                                                                <p-radioButton
                                                                    [value]="
                                                                        foodMenuType
                                                                    "
                                                                    (click)="
                                                                        onFoodMenuTypeClick(
                                                                            foodMenuType,
                                                                            $event
                                                                        )
                                                                    "
                                                                    [(ngModel)]="
                                                                        selectedFoodMenuType
                                                                    "
                                                                >
                                                                </p-radioButton>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </p-accordionTab>
                                        </div>
                                    </p-accordionTab>
                                    <!-- <p-accordionTab header="Time Slot">
                                        <div class="row">
                                            <div *ngFor="let slot of slotList" class="col text-center">
                                                <h5 class="decor-name">{{slot.slot}}</h5>
                                                <p-radioButton [value]="slot" [(ngModel)]="selectedSlot"
                                                    inputId="ingredient6"></p-radioButton>
                                            </div>
                                        </div>
                                    </p-accordionTab> -->
                                    <p-accordionTab header="Wedding Decor">
                                        <ng-template pTemplate="header">
                                            <i
                                                class="pi pi-info-circle info-icon ml-2"
                                                pTooltip="Select your preferred décor"
                                                tooltipPosition="bottom"
                                                showDelay="100"
                                                hideDelay="100"
                                            ></i>
                                            <div
                                                *ngIf="
                                                    selectedDecor != undefined
                                                "
                                                class="selected-list"
                                            >
                                                <span
                                                    >:
                                                    {{
                                                        selectedDecor.name
                                                    }}</span
                                                >&nbsp;&nbsp;
                                            </div>
                                        </ng-template>
                                        <div class="row">
                                            <div
                                                *ngFor="let decor of decorArray"
                                                class="col"
                                            >
                                                <h5
                                                    class="decor-name pt-0 pb-0"
                                                >
                                                    <p-radioButton
                                                        [(ngModel)]="
                                                            selectedDecor
                                                        "
                                                        [value]="decor"
                                                        (click)="
                                                            onClickDecor(decor)
                                                        "
                                                        [label]="decor.name"
                                                    >
                                                    </p-radioButton>
                                                </h5>
                                                <div class="decor-img">
                                                    <!-- <img src="{{decor.image}}" (click)="onClickDecorImage(decor)"
                                                        class="decor-img"> -->
                                                </div>
                                                <div class="price-list">
                                                    <h5 class="decor-name">
                                                        <span
                                                            *ngIf="isLoggedIn"
                                                            >{{
                                                                !isNumber(
                                                                    decor.price
                                                                )
                                                                    ? decor.price
                                                                    : (decor.price
                                                                      | currency
                                                                          : "INR")
                                                            }}</span
                                                        >
                                                    </h5>
                                                    <!-- <p-radioButton [(ngModel)]="selectedDecor" [value]="decor"
                                                        (click)="onClickDecor(decor)"></p-radioButton> -->
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="!isLoggedIn"
                                            class="col price-list"
                                        >
                                            <h5>Login to see prices</h5>
                                        </div>
                                    </p-accordionTab>
                                </p-accordion>
                            </div>

                            <div class="col-md-12 total-amount-div">
                                <div class="row">
                                    <div class="col">
                                        <h4
                                            style="font-size: 0.8rem !important"
                                            *ngIf="selectedVenueCapacity > 0"
                                        >
                                            Food Amount
                                        </h4>
                                        <h4
                                            style="font-size: 0.8rem !important"
                                            *ngIf="
                                                selectedDecorPrice > 0 ||
                                                premiumDecor
                                            "
                                        >
                                            Decor Amount
                                        </h4>
                                    </div>
                                    <div class="col align-right">
                                        <h4
                                            style="font-size: 1.2rem !important"
                                            *ngIf="selectedVenueCapacity > 0"
                                            class="total-price text-right"
                                        >
                                            {{
                                                totalFoodPrice
                                                    | currency : "INR"
                                            }}
                                        </h4>
                                        <h4
                                            style="font-size: 1.2rem !important"
                                            *ngIf="selectedDecorPrice > 0"
                                            class="total-price text-right"
                                        >
                                            {{
                                                selectedDecorPrice
                                                    | currency : "INR"
                                            }}
                                        </h4>
                                        <h4
                                            style="font-size: 1.2rem !important"
                                            *ngIf="premiumDecor"
                                            class="total-price text-right"
                                        >
                                            Call for prices
                                        </h4>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col">
                                        <div class="total-amt-heading">
                                            <h4>Total Amount</h4>
                                            <span>exclusive of Taxes</span>
                                        </div>
                                        <!-- <span *ngIf="isLoggedIn">{{totalVenuePrice|currency:'INR'}}</span> -->
                                    </div>
                                    <div class="col">
                                        <div
                                            *ngIf="venueDetails && isLoggedIn"
                                            class="price"
                                        >
                                            <h4
                                                *ngIf="
                                                    selectedVenueCapacity > 0
                                                "
                                                class="total-price"
                                            >
                                                {{
                                                    totalVenuePrice
                                                        | currency : "INR"
                                                }}
                                            </h4>

                                            <!-- <span class="real-price">₹ 3,00,000</span> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 coupon-code">
                                <span class="p-input-icon-left">
                                    <i class="coupon-icon"
                                        ><img
                                            src="assets/images/icons/coupon.png"
                                            class="icon-size"
                                    /></i>
                                    <input
                                        class="coupon-input coupon-box"
                                        placeholder="Enter Coupon Code"
                                        type="text"
                                        pInputText
                                        [(ngModel)]="value"
                                    />
                                </span>
                                <!-- <input pInputText type="text" placeholder="Enter Coupon Code" class="coupon-input" [(ngModel)]="value2" /> -->
                            </div>
                            <div class="col-md-12 Send-btn">
                                <button
                                    *ngIf="!showAvailabilityMessage"
                                    (click)="onClickSendEnquiries('book_now')"
                                    pButton
                                    class="btn btn-custom w-100 price-btn"
                                >
                                    Reserve For {{ 5000 | currency : "INR" }}
                                    <!-- {{bookingPrice|currency:'INR'}} -->
                                </button>
                                <button
                                    *ngIf="showAvailabilityMessage"
                                    (click)="
                                        onClickSendEnquiries('send_enquires')
                                    "
                                    pButton
                                    class="btn btn-custom w-100 price-btn"
                                >
                                    Send Enquiries
                                    <!-- {{bookingPrice|currency:'INR'}} -->
                                </button>
                            </div>
                            <div class="col-md-12 advantages">
                                <h5 class="heading-ad">
                                    UNLOCKED AFTER BOOKING:
                                </h5>
                                <ul class="advantages-list">
                                    <li class="adv-list">
                                        Dates are blocked at the venue
                                    </li>
                                    <li class="adv-list">
                                        Personalized venue advisory is allocated
                                    </li>
                                    <li class="adv-list">
                                        You can avail free venue visit
                                    </li>
                                    <li class="adv-list">
                                        You can avail food testing for a couple
                                    </li>
                                    <li class="adv-list">
                                        Above booking amount will be adjusted in
                                        final billing amount
                                    </li>
                                </ul>
                                <h5 class="booking-ad mb-2">
                                    *Booking Amount Refundable Upto 7 Days
                                </h5>
                                <h5 class="refund_part">
                                    <a
                                        class="refund_policy"
                                        href="javajavascript:void(0);"
                                        (click)="showDialog()"
                                        >CANCELLATION & REFUND POLICY DETAILS</a
                                    >
                                </h5>
                                <!-- <p-button (click)="showRefund()" label="CANCELATION & REFUND POLICY DETAILS" styleClass="p-button-text"></p-button> -->
                            </div>
                            <!-- <p-button (click)="schedulevisit()" icon="pi pi-external-link" label="Show"></p-button> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Replace your existing reviews section with this carousel version -->
<div class="review-section-Bottom">
    <!-- Reviews Header Section -->
    <div class="reviews-header-section" style="background: #ffffff; padding: 24px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 24px;">
        <div class="reviews-header-content">
            <h2 style="color: #333; font-size: 1.6rem; font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                <i class="pi pi-star-fill" style="color: #ffc107;"></i>
              Reviews of {{venueDetails?.name}}
            </h2>

            <!-- Overall Rating Display -->
            <div class="overall-rating-display" style="display: flex; align-items: center; gap: 20px; margin-bottom: 24px;">
                <div class="main-rating" style="display: flex; align-items: center; gap: 12px;">
                    <span class="rating-number" style="font-size: 2.8rem; font-weight: 800; color: #333;">
                        {{getCurrentRating() | number:'1.1-1'}}
                    </span>
                    <div class="rating-details">
                        <div class="rating-stars" style="display: flex; align-items: center; gap: 2px; margin-bottom: 4px;">
                            <ng-container *ngFor="let star of [1,2,3,4,5]">
                                <i class="pi pi-star-fill"
                                   [style.color]="getCurrentRating() >= star ? '#ffc107' : '#e4e5e9'"
                                   style="font-size: 1.3rem;"></i>
                            </ng-container>
                        </div>
                        <span class="rating-quality" style="font-size: 1.1rem; font-weight: 600; color: #333;">
                            {{getCurrentRating() >= 4.5 ? 'Excellent' : getCurrentRating() >= 4 ? 'Very Good' : getCurrentRating() >= 3.5 ? 'Good' : getCurrentRating() >= 3 ? 'Average' : 'Below Average'}}
                        </span>
                    </div>
                </div>

                <div class="rating-info" style="display: flex; flex-direction: column; gap: 4px;">
                    <span class="reviews-count" style="font-size: 1rem; color: #666; font-weight: 500;">
                        {{getReviewsCountText()}}
                    </span>
                    <span class="recommendation" style="font-size: 0.85rem; color: #28a745; font-weight: 600;" *ngIf="getCurrentRating() >= 4">
                        RECOMMENDED BY {{((getCurrentRating() - 3) / 2 * 100) | number:'1.0-0'}}% OF COUPLES
                    </span>
                </div>
            </div>

            <!-- Review Source Toggle Buttons -->
            <div class="review-toggle-buttons" style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 20px;">
                <button
                    [ngClass]="{ active: selectedReviewSource === 'eazyvenue' }"
                    (click)="toggleReviewSource('eazyvenue')"
                    [style.background]="selectedReviewSource === 'eazyvenue' ? '#007bff' : '#f8f9fa'"
                    [style.color]="selectedReviewSource === 'eazyvenue' ? '#fff' : '#333'"
                    [style.border]="selectedReviewSource === 'eazyvenue' ? '1px solid #007bff' : '1px solid #ddd'"
                    [style.box-shadow]="selectedReviewSource === 'eazyvenue' ? '0 2px 8px rgba(0,123,255,0.3)' : 'none'"
                    style="display: flex; align-items: center; gap: 8px; padding: 10px 18px; border-radius: 8px; font-weight: 600; cursor: pointer; white-space: nowrap; font-size: 14px; transition: all 0.3s ease;">
                    <img src="assets/images/logo.png" alt="EazyVenue" style="width: 22px; height: 22px; border-radius: 50%; background: #fff; border: 1px solid #eee;" />
                    <span>EazyVenue Reviews ({{(venueDetails?.reviews?.length || 0)}})</span>
                </button>

                <button
                    [ngClass]="{ active: selectedReviewSource === 'google' }"
                    (click)="toggleReviewSource('google')"
                    [style.background]="selectedReviewSource === 'google' ? '#007bff' : '#f8f9fa'"
                    [style.color]="selectedReviewSource === 'google' ? '#fff' : '#333'"
                    [style.border]="selectedReviewSource === 'google' ? '1px solid #007bff' : '1px solid #ddd'"
                    [style.box-shadow]="selectedReviewSource === 'google' ? '0 2px 8px rgba(0,123,255,0.3)' : 'none'"
                    style="display: flex; align-items: center; gap: 8px; padding: 10px 18px; border-radius: 8px; font-weight: 600; cursor: pointer; white-space: nowrap; font-size: 14px; transition: all 0.3s ease;">
                    <img src="assets/img/svg/google.png" alt="Google" style="width: 22px; height: 22px; border-radius: 50%; background: #fff; border: 1px solid #eee;" />
                    <span>Google Reviews ({{googleReviews.length}})</span>
                </button>
            </div>

            <!-- Write Review Button -->
            <button
                class="write-review-btn"
                (click)="toggleReviewForm()"
                style="background: #dc3545; color: #fff; border: none; padding: 12px 24px; border-radius: 8px; font-size: 15px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(220,53,69,0.3);"
                onmouseover="this.style.background='#c82333'; this.style.transform='translateY(-1px)'"
                onmouseout="this.style.background='#dc3545'; this.style.transform='translateY(0)'">
                <i class="pi pi-pencil"></i>
                Write a review
            </button>
        </div>
    </div>

    <!-- Review Form (same as before) -->
    <div *ngIf="showReviewForm" class="review-form-container" style="background: #f9f9fb; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 24px; margin-bottom: 24px;">
        <h3 style="color: #333; margin-bottom: 20px; font-size: 1.3rem; font-weight: 600;">Write Your Review</h3>

        <form #reviewForm="ngForm" (ngSubmit)="submitReview()">
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="reviewTitle" style="font-weight: 600; color: #333; display: block; margin-bottom: 8px;">Review Title *</label>
                <input
                    type="text"
                    [(ngModel)]="newReview.reviewtitle"
                    name="reviewTitle"
                    id="reviewTitle"
                    placeholder="Enter a short title for your review"
                    required
                    style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; outline: none; transition: border-color 0.2s ease;"
                    onfocus="this.style.borderColor='#007bff'"
                    onblur="this.style.borderColor='#ddd'"/>
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
                <label style="font-weight: 600; color: #333; display: block; margin-bottom: 8px;">Your Rating *</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <ng-container *ngFor="let r of [1,2,3,4,5]">
                        <input
                            type="radio"
                            [(ngModel)]="newReview.reviewrating"
                            name="rating"
                            [value]="r"
                            [id]="'star'+r"
                            required
                            style="display: none;"/>
                        <label
                            [for]="'star'+r"
                            style="cursor: pointer; font-size: 1.8rem; margin-bottom: 0; transition: color 0.2s ease;"
                            [style.color]="newReview.reviewrating >= r ? '#ffc107' : '#e4e5e9'">
                            <i class="pi pi-star-fill"></i>
                        </label>
                    </ng-container>
                    <span
                        *ngIf="newReview.reviewrating"
                        style="margin-left: 12px; color: #666; font-size: 1rem; font-weight: 500;">
                        {{newReview.reviewrating}}/5
                    </span>
                </div>
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
                <label for="reviewDescription" style="font-weight: 600; color: #333; display: block; margin-bottom: 8px;">Your Review *</label>
                <textarea
                    [(ngModel)]="newReview.reviewdescription"
                    name="reviewDescription"
                    id="reviewDescription"
                    placeholder="Share your experience with this venue..."
                    rows="4"
                    required
                    style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; outline: none; resize: vertical; transition: border-color 0.2s ease;"
                    onfocus="this.style.borderColor='#007bff'"
                    onblur="this.style.borderColor='#ddd'"></textarea>
            </div>

            <div class="form-actions" style="display: flex; justify-content: flex-end; gap: 12px;">
                <button
                    type="button"
                    (click)="toggleReviewForm()"
                    style="padding: 10px 24px; border: 1px solid #ddd; background: #f8f9fa; color: #333; border-radius: 6px; font-weight: 500; cursor: pointer; transition: all 0.2s ease;">
                    Cancel
                </button>
                <button
                    type="submit"
                    [disabled]="!reviewForm.valid"
                    style="padding: 10px 24px; background: #28a745; color: #fff; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; transition: background-color 0.2s ease;"
                    [style.opacity]="reviewForm.valid ? '1' : '0.6'">
                    <i class="pi pi-check" style="margin-right: 6px;"></i>
                    Submit Review
                </button>
            </div>
        </form>
    </div>

    <!-- Reviews Carousel -->
    <div class="reviews-carousel-container" style="background: #fff; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); padding: 24px; position: relative;">
        <!-- Loading State -->
        <div *ngIf="selectedReviewSource === 'google' && isLoadingGoogleReviews" class="loading-reviews" style="text-align: center; padding: 60px;">
            <i class="pi pi-spinner pi-spin" style="font-size: 2.5rem; color: #007bff;"></i>
            <p style="margin-top: 20px; color: #666; font-size: 1.1rem;">Loading Google reviews...</p>
        </div>

        <!-- Reviews Carousel -->
        <div *ngIf="!isLoadingGoogleReviews" class="reviews-carousel">
            <div *ngIf="getCarouselReviews()?.length > 0; else noReviewsMsg" class="carousel-content">

                <!-- Carousel Navigation -->
                <div class="carousel-navigation" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h3 style="color: #333; font-size: 1.4rem; font-weight: 600; margin: 0;">
                        {{selectedReviewSource === 'google' ? 'Google Reviews' : 'EazyVenue Reviews'}}
                    </h3>

                    <div class="carousel-controls" style="display: flex; align-items: center; gap: 16px;">
                        <!-- Slide Indicators -->
                        <div class="slide-indicators" style="display: flex; gap: 8px;" *ngIf="getTotalSlides() > 1">
                            <button
                                *ngFor="let slide of [].constructor(getTotalSlides()); let i = index"
                                (click)="goToSlide(i)"
                                [style.background]="currentSlide === i ? '#007bff' : '#e4e5e9'"
                                style="width: 8px; height: 8px; border-radius: 50%; border: none; cursor: pointer; transition: background-color 0.3s ease;">
                            </button>
                        </div>

                        <!-- Arrow Controls -->
                        <div class="arrow-controls" style="display: flex; gap: 8px;" *ngIf="getTotalSlides() > 1">
                            <button
                                (click)="previousSlide()"
                                [disabled]="isPreviousDisabled()"
                                [style.opacity]="isPreviousDisabled() ? '0.4' : '1'"
                                [style.cursor]="isPreviousDisabled() ? 'not-allowed' : 'pointer'"
                                style="width: 40px; height: 40px; border-radius: 50%; border: 1px solid #ddd; background: #fff; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                onmouseover="if(!this.disabled) { this.style.background='#f8f9fa'; this.style.transform='translateY(-2px)'; }"
                                onmouseout="this.style.background='#fff'; this.style.transform='translateY(0)';">
                                <i class="pi pi-chevron-left" style="color: #333; font-size: 1rem;"></i>
                            </button>

                            <button
                                (click)="nextSlide()"
                                [disabled]="isNextDisabled()"
                                [style.opacity]="isNextDisabled() ? '0.4' : '1'"
                                [style.cursor]="isNextDisabled() ? 'not-allowed' : 'pointer'"
                                style="width: 40px; height: 40px; border-radius: 50%; border: 1px solid #ddd; background: #fff; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                onmouseover="if(!this.disabled) { this.style.background='#f8f9fa'; this.style.transform='translateY(-2px)'; }"
                                onmouseout="this.style.background='#fff'; this.style.transform='translateY(0)';">
                                <i class="pi pi-chevron-right" style="color: #333; font-size: 1rem;"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Reviews Cards Grid -->
                <div class="reviews-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; transition: all 0.3s ease;">
                    <div
                        class="review-card"
                        *ngFor="let review of getCurrentSlideReviews()"
                        style="background: #f9f9fb; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: all 0.3s ease; border: 1px solid #e9ecef;"
                        onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 8px 24px rgba(0,0,0,0.12)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.08)'">

                        <!-- Review Header -->
                        <div class="review-header" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                            <div class="reviewer-info" style="display: flex; align-items: center; gap: 12px;">
                                <!-- User Avatar -->
                                <div class="user-avatar" style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-weight: 700; color: #fff; font-size: 1.2rem;">
                                    <img *ngIf="review.profile_photo_url" [src]="review.profile_photo_url" alt="User" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                                    <span *ngIf="!review.profile_photo_url">{{(review.author_name || 'A').charAt(0).toUpperCase()}}</span>
                                </div>

                                <div class="reviewer-details">
                                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #333;">{{review.author_name || 'Anonymous'}}</h4>
                                    <p style="margin: 0; font-size: 0.85rem; color: #666;">{{review.created_at | date:'MMM d, y'}}</p>
                                </div>
                            </div>

                            <div class="rating-display" style="display: flex; flex-direction: column; align-items: flex-end;">
                                <div class="rating-stars" style="display: flex; align-items: center; gap: 2px; margin-bottom: 2px;">
                                    <ng-container *ngFor="let star of [1,2,3,4,5]">
                                        <i class="pi pi-star-fill"
                                           [style.color]="review.reviewrating >= star ? '#ffc107' : '#e4e5e9'"
                                           style="font-size: 1rem;"></i>
                                    </ng-container>
                                </div>
                                <span style="font-size: 0.9rem; font-weight: 600; color: #333;">{{review.reviewrating}}/5</span>
                            </div>
                        </div>

                        <!-- Review Content -->
                        <div class="review-content">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.05rem; font-weight: 600; color: #333; line-height: 1.4;">
                                {{review.reviewtitle}}
                            </h5>
                            <p style="margin: 0; line-height: 1.6; color: #555; font-size: 0.95rem; text-align: justify;">
                                {{review.reviewdescription.length > 150 ? (review.reviewdescription | slice:0:150) + '...' : review.reviewdescription}}
                            </p>
                        </div>

                        <!-- Read More Button (if text is truncated) -->
                        <button
                            *ngIf="review.reviewdescription.length > 150"
                            style="background: none; border: none; color: #007bff; font-weight: 600; cursor: pointer; padding: 8px 0 0 0; font-size: 0.9rem; transition: color 0.2s ease;"
                            onmouseover="this.style.color='#0056b3'"
                            onmouseout="this.style.color='#007bff'">
                            Read more
                        </button>
                    </div>
                </div>
            </div>

            <!-- No Reviews Message -->
            <ng-template #noReviewsMsg>
                <div class="no-reviews-container" style="text-align: center; padding: 80px 20px; color: #888;">
                    <i class="pi pi-star" style="font-size: 4rem; color: #ddd; margin-bottom: 20px;"></i>
                    <div class="no-reviews-text" style="font-size: 1.3rem; font-weight: 600; margin-bottom: 8px; color: #666;">
                        No reviews yet
                    </div>
                    <div style="font-size: 1.1rem; color: #aaa; margin-bottom: 24px;">
                        Be the first to share your experience!
                    </div>
                    <button
                        (click)="toggleReviewForm()"
                        style="background: #007bff; color: #fff; border: none; padding: 14px 28px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0,123,255,0.3);"
                        onmouseover="this.style.background='#0056b3'; this.style.transform='translateY(-2px)'"
                        onmouseout="this.style.background='#007bff'; this.style.transform='translateY(0)'">
                        Write First Review
                    </button>
                </div>
            </ng-template>
        </div>
    </div>
</div>

<!-- Responsive Styles -->
<style>
@media (max-width: 768px) {
    .review-toggle-buttons {
        flex-direction: column !important;
        gap: 10px !important;
    }

    .review-toggle-buttons button {
        width: 100% !important;
        justify-content: center !important;
    }

    .overall-rating-display {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 16px !important;
    }

    .main-rating {
        align-self: center !important;
    }

    .reviews-grid {
        grid-template-columns: 1fr !important;
    }

    .carousel-navigation {
        flex-direction: column !important;
        gap: 16px !important;
        align-items: flex-start !important;
    }

    .carousel-controls {
        width: 100% !important;
        justify-content: center !important;
    }
}

@media (max-width: 480px) {
    .review-header {
        flex-direction: column !important;
        gap: 12px !important;
    }

    .reviewer-info {
        width: 100% !important;
    }

    .rating-display {
        align-items: flex-start !important;
    }

    .user-avatar {
        width: 40px !important;
        height: 40px !important;
    }

    .arrow-controls button {
        width: 36px !important;
        height: 36px !important;
    }
}

@media (min-width: 1200px) {
    .reviews-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

@media (min-width: 768px) and (max-width: 1199px) {
    .reviews-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}
</style>


<!-- Frequent Vendors Nearby Section (NEW) -->
<div class="frequent-vendors-section" *ngIf="nearbyVendors?.length">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 class="section-title">Frequent Vendors Nearby</h3>
                    <a [routerLink]="['/vendor']" class="view-all-link"
                       style="color: #007bff; text-decoration: none; font-size: 14px; font-weight: 500;">
                        View All Vendors <i class="pi pi-arrow-right" style="margin-left: 5px;"></i>
                    </a>
                </div>

                <div class="frequent-vendors-wrapper">
                    <div class="frequent-vendors-container"
                         #frequentVendorsContainer
                         (scroll)="onFrequentVendorsScroll()"
                         style="display: flex; overflow-x: auto; overflow-y: hidden; gap: 20px; padding: 10px 0; scroll-behavior: smooth;">

                        <div class="vendor-card"
                             *ngFor="let vendor of nearbyVendors; trackBy: trackByVendorId"
                             (click)="getVendorDetails(vendor.id)"
                             style="flex: 0 0 320px; cursor: pointer; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;"
                             onmouseover="this.style.transform='translateY(-2px)'"
                             onmouseout="this.style.transform='translateY(0)'">

                            <!-- Vendor Image Display -->
                            <div class="vendor-image" style="height: 180px; overflow: hidden; position: relative;">
                                <img *ngIf="vendor.vendorImage && vendor.vendorImage[0] && vendor.vendorImage[0].vendor_image_src; else defaultVendorImg"
                                     [src]="vendor.vendorImage[0].vendor_image_src"
                                     [alt]="vendor.name"
                                     loading="lazy"
                                     style="width: 100%; height: 100%; object-fit: cover;">

                                <ng-template #defaultVendorImg>
                                    <div style="width: 100%; height: 100%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; color: #6c757d;">
                                        <i class="pi pi-user" style="font-size: 2rem;"></i>
                                    </div>
                                </ng-template>

                                <!-- Vendor Category Badge -->
                                <div class="vendor-category-badge" style="position: absolute; top: 10px; left: 10px;">
                                    <span class="category-badge"
                                          style="background: rgba(0, 123, 255, 0.9); color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: 500;">
                                        {{ vendor.category }}
                                    </span>
                                </div>

                                <!-- Verified Badge -->
                                <div class="verified-badge" style="position: absolute; top: 10px; right: 10px;" *ngIf="vendor.verified">
                                    <span style="background: #28a745; color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px;">
                                        <i class="pi pi-check" style="margin-right: 2px;"></i> Verified
                                    </span>
                                </div>
                            </div>

                            <div class="vendor-info" style="padding: 15px;">
                                <h5 class="vendor-name" style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #333; line-height: 1.2;">
                                    {{ vendor.name }}
                                </h5>

                                <!-- Location with Icon -->
                                <div class="vendor-location" style="margin-bottom: 10px;">
                                    <div class="location" style="display: flex; align-items: center; gap: 5px;">
                                        <span class="icon">
                                            <img src="assets/img/svg/location-icon.svg" style="width: 12px; height: 12px;" />
                                        </span>
                                        <span class="city" style="font-size: 13px; color: #666;">
                                            <span *ngIf="vendor.subArea">{{ vendor.subArea }}</span>
                                            <span *ngIf="vendor.subArea && vendor.city">, </span>
                                            <span *ngIf="vendor.city">{{ vendor.city }}</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Services Offered -->
                                <div class="vendor-services" style="margin-bottom: 10px; min-height: 40px; display: flex; align-items: flex-start;" *ngIf="vendor.services && vendor.services.length">
                                    <div class="services-tags" style="display: flex; flex-wrap: wrap; gap: 4px; flex: 1;">
                                        <!-- Show first 3 services as tags -->
                                        <span *ngFor="let service of vendor.services.slice(0, 3)"
                                              class="service-tag"
                                              style="background: #f1f3f4; color: #5f6368; padding: 2px 6px; border-radius: 3px; font-size: 10px; line-height: 1.2;">
                                            {{service.title}}
                                        </span>
                                        <!-- Show count of remaining services -->
                                        <span *ngIf="vendor.services.length > 3"
                                              class="more-services"
                                              style="color: #007bff; font-size: 10px; line-height: 1.2;">
                                            +{{ vendor.services.length - 3 }} more
                                        </span>
                                    </div>
                                </div>

                                <!-- Price Information -->
                                <div class="vendor-pricing" style="margin-bottom: 10px;">
                                    <div class="price-display" style="display: flex; align-items: center; gap: 5px; font-size: 13px; color: #666;">
                                        <i class="pi pi-tag" style="font-size: 12px;"></i>
                                        Starting from:
                                        <span *ngIf="vendor.minVendorPrice && vendor.minVendorPrice > 0"
                                              class="price-value"
                                              style="font-weight: 600; color: #333;">
                                            ₹{{ vendor.minVendorPrice | number }}
                                        </span>
                                        <span *ngIf="!vendor.minVendorPrice || vendor.minVendorPrice == 0"
                                              class="price-value"
                                              style="font-weight: 600; color: #999;">
                                            Contact for Price
                                        </span>
                                    </div>
                                </div>

                                <!-- Action Buttons and Ratings -->
                                <div class="vendor-actions" style="display: flex; justify-content: space-between; align-items: center;">
                                    <div class="action-buttons" style="display: flex; gap: 8px;">
                                        <a [routerLink]="['/vendor-detail', createSlug(vendor.city), createSlug(vendor.categories[0].name), vendor.metaUrl]" [queryParams]="{slot: selectedPropertyType}"
                                                            class="btn-custom btn-sm secondary">
                                                            Book Now
                                                         </a>
                                        <button class="btn-contact"
                                                (click)="contactVendor(vendor, $event)"
                                                style="background: #28a745; color: white; padding: 6px 12px; border-radius: 4px; border: none; font-size: 12px; cursor: pointer;">
                                            Contact
                                        </button>
                                    </div>

                                    <!-- Ratings -->
                                    <div class="vendor-ratings" style="display: flex; align-items: center; gap: 8px; font-size: 11px;">
                                        <div class="google-rating" style="display: flex; align-items: center; gap: 2px;" *ngIf="vendor.googleRating">
                                            <img src="assets/img/svg/google.png" alt="Google" style="width: 12px; height: 12px;" />
                                            <i class="pi pi-star-fill" style="font-size: 10px; color: #ffc107;"></i>
                                            <span style="color: #666;">
                                                <b>{{ vendor.googleRating }}</b>/5
                                            </span>
                                        </div>
                                        <div class="rating-divider" style="width: 1px; height: 12px; background: #ddd;" *ngIf="vendor.googleRating && vendor.eazyVenueRating"></div>
                                        <div class="eazy-rating" style="display: flex; align-items: center; gap: 2px;" *ngIf="vendor.eazyVenueRating">
                                            <img src="assets/images/logo.png" alt="EazyVenue" style="width: 12px; height: 12px;" />
                                            <i class="pi pi-star-fill" style="font-size: 10px; color: #ffc107;"></i>
                                            <span style="color: #666;">
                                                <b>{{ vendor.eazyVenueRating }}</b>/5
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Similar Venues Section (existing) -->
<div class="similar-venues-section" *ngIf="similarVenues?.length">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h3 class="section-title">Similar Venues</h3>
                <div class="similar-venues-wrapper">
                    <div class="similar-venues-container"
                         #similarVenuesContainer
                         (scroll)="onSimilarVenuesScroll()"
                         style="display: flex; overflow-x: auto; overflow-y: hidden; gap: 20px; padding: 10px 0; scroll-behavior: smooth;">

                        <div class="venue-card"
                             *ngFor="let venue of similarVenues; trackBy: trackByVenueId"
                             (click)="getVenueDetails(venue.metaUrl)"
                             style="flex: 0 0 280px; cursor: pointer; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;"
                             onmouseover="this.style.transform='translateY(-2px)'"
                             onmouseout="this.style.transform='translateY(0)'">

                            <!-- Optimized Image Display -->
                            <div class="venue-image" style="height: 200px; overflow: hidden; position: relative;">
                                <img *ngIf="venue.venueImage && venue.venueImage[0] && venue.venueImage[0].venue_image_src; else defaultImg"
                                     [src]="venue.venueImage[0].venue_image_src"
                                     [alt]="venue.name"
                                     loading="lazy"
                                     style="width: 100%; height: 100%; object-fit: cover;">

                                <ng-template #defaultImg>
                                    <div style="width: 100%; height: 100%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; color: #6c757d;">
                                        <i class="pi pi-image" style="font-size: 2rem;"></i>
                                    </div>
                                </ng-template>

                                <!-- Assured Badge -->
                                <div class="listing-badges" style="position: absolute; top: 10px; left: 10px;" *ngIf="venue.assured">
                                    <span class="listing-badge Assured" style="background: #28a745; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                                        <i class="pi pi-check"></i> Assured
                                    </span>
                                </div>
                            </div>

                            <div class="venue-info" style="padding: 15px;">
                                <h5 class="venue-name" style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #333; line-height: 1.2;">
                                    {{ venue.name }}
                                </h5>

                                <!-- Location with Icon -->
                                <div class="category-icon" style="margin-bottom: 10px;">
                                    <div class="location" style="display: flex; align-items: center; gap: 5px;">
                                        <span class="icon">
                                            <img src="assets/img/svg/location-icon.svg" style="width: 12px; height: 12px;" />
                                        </span>
                                        <span class="city" style="font-size: 13px; color: #666;">
                                            <span *ngIf="venue.subarea">{{ venue.subarea }}</span>
                                            <span *ngIf="venue.subarea && venue.cityname">, </span>
                                            <span *ngIf="venue.cityname">{{ venue.cityname }}</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Price Information -->
                                <div class="price-icons" style="margin-bottom: 10px;">
                                    <div class="price-div">
                                        <div class="acr-listing-icons pt-0">
                                            <div class="acr-listing-icon" style="display: flex; align-items: center; gap: 5px; font-size: 13px; color: #666;">
                                                <i class="pi pi-users" style="font-size: 12px;"></i>
                                                Per Person:
                                                <span *ngIf="venue.minPrice && venue.minPrice > 0"
                                                      class="acr-listing-icon-value"
                                                      style="font-weight: 600; color: #333;">
                                                    ₹{{ venue.minPrice }}
                                                </span>
                                                <span *ngIf="!venue.minPrice || venue.minPrice == 0"
                                                      class="acr-listing-icon-value"
                                                      style="font-weight: 600; color: #999;">
                                                    N/A
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- View Details Button -->
                                <div class="listing-gallery-wrapper" style="display: flex; justify-content: space-between; align-items: center;">
                                    <a class="btn-custom btn-sm secondary"
                                       style="background: #007bff; color: white; padding: 6px 12px; border-radius: 4px; text-decoration: none; font-size: 12px; border: none; cursor: pointer;">
                                        View Details
                                    </a>

                                    <!-- Ratings -->
                                    <div class="review-list" style="display: flex; align-items: center; gap: 8px; font-size: 11px;">
                                        <div class="icon-review google-ratings" style="display: flex; align-items: center; gap: 2px;" *ngIf="venue.googleRating">
                                            <img src="assets/img/svg/google.png" alt="" style="width: 12px; height: 12px;" />
                                            <i class="pi pi-star-fill" style="font-size: 10px; color: #ffc107;"></i>
                                            <span class="rating-style" style="color: #666;">
                                                <b>{{ venue.googleRating }}</b>/5
                                            </span>
                                        </div>
                                        <div class="vl" style="width: 1px; height: 12px; background: #ddd;" *ngIf="venue.googleRating && venue.eazyVenueRating"></div>
                                        <div class="icon-review eazy-venue-ratings" style="display: flex; align-items: center; gap: 2px;" *ngIf="venue.eazyVenueRating">
                                            <img src="assets/images/logo.png" alt="" style="width: 12px; height: 12px;" />
                                            <i class="pi pi-star-fill" style="font-size: 10px; color: #ffc107;"></i>
                                            <span class="rating-style" style="color: #666;">
                                                <b>{{ venue.eazyVenueRating }}</b>/5
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Enhanced CSS Styles -->
<style>
/* Existing similar venues styles */
.similar-venues-container::-webkit-scrollbar,
.frequent-vendors-container::-webkit-scrollbar {
    height: 6px;
}

.similar-venues-container::-webkit-scrollbar-track,
.frequent-vendors-container::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.similar-venues-container::-webkit-scrollbar-thumb,
.frequent-vendors-container::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

.similar-venues-container::-webkit-scrollbar-thumb:hover,
.frequent-vendors-container::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

.venue-card:hover,
.vendor-card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
}

/* New vendor-specific styles */
.section-title {
    color: #333;
    font-weight: 600;
    margin-bottom: 0;
}

.view-all-link:hover {
    text-decoration: underline !important;
}

.category-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.vendor-card .btn-view-details:hover {
    background: #0056b3 !important;
}

.vendor-card .btn-contact:hover {
    background: #1e7e34 !important;
}

.vendor-card .btn-contact:active,
.vendor-card .btn-view-details:active {
    transform: translateY(1px);
}

.service-tag {
    transition: background-color 0.2s;
}

.service-tag:hover {
    background: #e8eaed !important;
}

/* Responsive styles */
@media (max-width: 768px) {
    .venue-card,
    .vendor-card {
        flex: 0 0 250px !important;
    }

    .category-buttons {
        justify-content: center;
    }

    .section-header {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 10px;
    }

    .action-buttons {
        flex-direction: column;
        gap: 4px !important;
    }

    .vendor-actions {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 8px;
    }
}

@media (max-width: 480px) {
    .venue-card,
    .vendor-card {
        flex: 0 0 220px !important;
    }

    .category-btn {
        font-size: 12px !important;
        padding: 6px 12px !important;
    }
}
</style>
<div class="venue-map-section" *ngIf="venueDetails">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3 class="section-title" (click)="trackPageAction('viewedLocation')">
            <i class="fas fa-map-marker-alt"></i> Venue Location
          </h3>
        </div>
      </div>

      <div class="row">
        <!-- Map Container -->
        <div class="col-lg-8 col-md-12">
          <div class="map-container">
            <!-- Google Map -->
            <div
              id="venue-map"
              class="venue-map"
              [class.map-loading]="!mapLoaded && !mapError"
              [class.map-error]="mapError">
            </div>

            <!-- Loading State -->
            <div *ngIf="!mapLoaded && !mapError" class="map-loading-overlay">
              <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading map...</span>
              </div>
              <p class="mt-2">Loading map...</p>
            </div>

            <!-- Error State -->
            <div *ngIf="mapError" class="map-error-overlay">
              <i class="fas fa-exclamation-triangle text-warning"></i>
              <p class="mt-2">Unable to load map. You can still view the location on Google Maps.</p>
              <button class="btn btn-primary btn-sm" (click)="openInGoogleMaps()">
                <i class="fas fa-external-link-alt"></i> Open in Google Maps
              </button>
            </div>
          </div>
        </div>

        <!-- Location Details & Actions -->
        <div class="col-lg-4 col-md-12">
          <div class="location-details-card">
            <div class="location-info">
              <h5 class="venue-name">{{ venueDetails.name }}</h5>
              <div class="address-details">
                <p class="address-line">
                  <i class="fas fa-map-pin text-primary"></i>
                  Near {{ venueDetails.subarea }}
                </p>
                <p class="address-line">
                  <i class="fas fa-city text-primary"></i>
                  {{ venueDetails.cityname }}, {{ venueDetails.statename }}
                </p>
                <p class="address-line" *ngIf="venueDetails.zipcode">
                  <i class="fas fa-mail-bulk text-primary"></i>
                  {{ venueDetails.zipcode }}
                </p>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="map-actions">
              <button
                class="btn btn-primary btn-block mb-2"
                (click)="openInGoogleMaps()"
                [disabled]="!venueMapUrl">
                <i class="fas fa-map-marked-alt"></i>
                View on Google Maps
              </button>

              <button
                class="btn btn-success btn-block mb-2"
                (click)="getDirections()"
                [disabled]="!venueCoordinates">
                <i class="fas fa-route"></i>
                Get Directions
              </button>

              <button
                class="btn btn-whatsapp btn-block mb-2"
                (click)="shareVenueOnWhatsApp()"
                [disabled]="!venueMapUrl">
                <i class="fab fa-whatsapp"></i>
                Share on WhatsApp
              </button>

              <button
                class="btn btn-outline-secondary btn-block"
                (click)="copyMapLink()"
                [disabled]="!venueMapUrl">
                <i class="fas fa-copy"></i>
                Copy Map Link
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Spacer - You can adjust this height -->
    <div class="venue-map-bottom-spacer"></div>
</div>

<!-- Add these styles to your component's CSS or global styles -->
<style>
.venue-map-section {
  padding: 40px 0 0 0; /* Removed bottom padding, now controlled by spacer */
  background-color: #f8f9fa;
}

/* Bottom Spacer - Adjust the height value to control spacing */
.venue-map-bottom-spacer {
  height: 60px; /* Default spacing - Change this value to increase/decrease gap */
  background-color: #f8f9fa; /* Same as section background */
}

.venue-map-bottom-spacer {
  height: 80px; /* Medium gap */
}

.venue-map-bottom-spacer {
  height: 120px; /* Large gap */
}

.venue-map-bottom-spacer {
  height: 160px; /* Extra large gap */
}
*/

.section-title {
  color: #333;
  font-weight: 600;
  margin-bottom: 30px;
  font-size: 1.5rem;
}

.section-title i {
  color: #007bff;
  margin-right: 10px;
}

.map-container {
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.venue-map {
  width: 100%;
  height: 400px;
  border: none;
}

.map-loading-overlay,
.map-error-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.location-details-card {
  background: white;
  border-radius: 10px;
  padding: 25px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  height: fit-content;
}

.venue-name {
  color: #333;
  font-weight: 600;
  margin-bottom: 15px;
}

.address-details .address-line {
  margin-bottom: 8px;
  color: #666;
  font-size: 0.95rem;
}

.address-details i {
  width: 16px;
  margin-right: 8px;
}

.map-actions {
  margin-top: 20px;
}

.btn-whatsapp {
  background-color: #25D366;
  border-color: #25D366;
  color: white;
}

.btn-whatsapp:hover {
  background-color: #128C7E;
  border-color: #128C7E;
  color: white;
}

.quick-info {
  border-top: 1px solid #eee;
  padding-top: 15px;
}

.info-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 0.9rem;
}

.info-label {
  color: #666;
  font-weight: 500;
}

.info-value {
  color: #333;
  font-weight: 600;
}

.rating-stars {
  color: #ffc107;
}

/* Responsive spacing adjustments */
@media (max-width: 991px) {
  .location-details-card {
    margin-top: 20px;
  }

  .venue-map-bottom-spacer {
    height: 50px; /* Slightly less spacing on tablets */
  }
}

@media (max-width: 576px) {
  .venue-map {
    height: 300px;
  }

  .map-actions .btn {
    margin-bottom: 10px;
  }

  .venue-map-bottom-spacer {
    height: 40px; /* Less spacing on mobile */
  }
}
</style>
<p-dialog
    header="Schedule A Visit"
    [(visible)]="displayModal"
    [modal]="true"
    [style]="{ width: '38vw' }"
    [breakpoints]="{ '960px': '60vw', '640px': '100vw' }"
    [baseZIndex]="10000"
    [draggable]="false"
    [resizable]="false"
>
    <div class="login-popup Schedule-a-visit">
        <div class="forms">
            <p>It's always good to visit a place before booking a venue</p>
            <form>
                <div class="forms">
                    <div class="form-group form-row">
                        <div class="col">
                            <label>Date</label>
                            <!-- <input type="text" formControlName="firstName" class="form-control"
                                placeholder="First name*" value="" required> -->
                        </div>
                        <div class="col">
                            <label>Time</label>
                            <!-- <input type="text" formControlName="lastName" placeholder="Last Name*" class="form-control"
                                required> -->
                        </div>
                    </div>
                    <div class="form-group form-row">
                        <div class="col">
                            <div class="p-field-checkbox">
                                <p-checkbox
                                    binary="true"
                                    inputId="binary"
                                ></p-checkbox>
                                <label for="binary"
                                    >I agree to below mentioned terms and
                                    conditions.</label
                                >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="popup-button">
                    <p-button
                        type="submit"
                        label="Register"
                        class="p-button-text"
                    ></p-button>
                </div>
            </form>
        </div>
    </div>
</p-dialog>

<p-dialog
    header=""
    [(visible)]="numberPopup"
    [modal]="true"
    class="offer-popup-login"
    [modal]="true"
    [closable]="false"
    [baseZIndex]="10000"
    [draggable]="false"
    [resizable]="false"
>
    <!-- Close icon disabled by setting [closable]="false" -->
    <div class="login-popup">
        <h3 class="offer-popup-heading mb-0">
            Receive<span class="offer-text"> 20%</span> off on our Photography
            now!
        </h3>
        <p class="mobile-num-design">
            Please provide your contact number to receive the coupon code.
        </p>
        <form
            [formGroup]="mobileForm"
            (ngSubmit)="onSubmitNumber('numberSubmit')"
        >
            <div class="row justify-content-around">
                <div class="col-5 text-right">
                    <label class="mobile-number-text" for="inputPassword"
                        >Mobile Number
                        <span class="mandatory-fields">*</span></label
                    >
                </div>
                <div class="col-7 text-left">
                    <p-inputNumber
                        mode="decimal"
                        inputId="withoutgrouping"
                        [useGrouping]="false"
                        [maxlength]="10"
                        formControlName="mobileNumber"
                        placeholder="Enter Mobile Number"
                        class="mobile-input"
                        [ngClass]="{
                            'is-invalid': submitted && h.mobileNumber.errors
                        }"
                    >
                    </p-inputNumber>
                    <div
                        *ngIf="submitted && h.mobileNumber.errors"
                        class="invalid-feedback"
                    >
                        <div *ngIf="h.mobileNumber.errors.required">
                            Mobile number is required
                        </div>
                        <div *ngIf="!h.mobileNumber.errors.required">
                            Invalid mobile number
                        </div>
                    </div>
                </div>
            </div>

            <div class="popup-button mt-2">
                <p-button
                    type="submit"
                    label="Get it Now!"
                    class="p-button-text secondary"
                ></p-button>
            </div>
        </form>
    </div>
</p-dialog>
<p-dialog [(visible)]="otpPopup" [modal]="true" [closable]="false" class="otp-popup-login">
    <div class="login-popup">
        <!-- <h2 class="offer-popup-heading">Receive<span class="offer-popup-heading1"> 20%</span> off on our Photography now!</h2> -->
        <form (ngSubmit)="otpSubmit()">
            <div class="form-group mb-3 p-2">
                <div
                    *ngIf="oldUser.userType == 'old'"
                    class="old-user"
                    style="margin-top: -20px"
                >
                    <h3
                        style="
                            color: #ec3539;
                            font-size: 1rem;
                            text-align: center;
                            margin-top: -20px;
                            margin-bottom: 0px;
                        "
                    >
                        Welcome, {{ oldUser.firstName }}&nbsp;{{
                            oldUser.lastName
                        }}
                    </h3>
                    <h5
                        class="otp-head"
                        style="color: #9e9b9b; font-size: 14px !important"
                    >
                        Please insert OTP sent to your mobile number
                    </h5>
                </div>
                <div
                    *ngIf="oldUser.userType == 'new'"
                    class="new-user"
                    style="margin-top: -20px"
                >
                    <!-- <div  class="new-user" style="margin-top: -20px; "> -->
                    <h3
                        style="
                            color: #ec3539;
                            font-size: 1rem;
                            text-align: center;
                            margin-top: -20px;
                            margin-bottom: 0px;
                        "
                    >
                        Hi there, Enter following details
                    </h3>
                    <div class="custom-input-box">
                        <p>First Name:</p>
                        <div class="">
                            <input
                                type="text"
                                pInputText
                                [(ngModel)]="userFirstName"
                                class="custom-input"
                                name="userFirstName"
                                (input)="validateFirstName()"
                                #userFirstNameInput="ngModel"
                                placeholder="First name"
                                required
                                minlength="3"
                            />
                            <div
                                *ngIf="firstNameError"
                                style="
                                    font-size: 8px;
                                    color: red;
                                    margin: 0;
                                    padding: 0;
                                "
                            >
                                First Name is required.
                            </div>
                        </div>
                    </div>
                    <div class="custom-input-box">
                        <p>Last Name:</p>
                        <div class="">
                            <input
                                type="text"
                                pInputText
                                [(ngModel)]="userLastName"
                                name="userLastName"
                                class="custom-input"
                                (input)="validateLastName()"
                                #userLastNameInput="ngModel"
                                placeholder="Last name"
                                required
                                minlength="3"
                            />
                            <div
                                *ngIf="lastNameError"
                                style="
                                    font-size: 8px;
                                    color: red;
                                    margin: 0;
                                    padding: 0;
                                "
                            >
                                Last Name is required.
                            </div>
                            <!-- <div *ngIf="userLastNameInput.invalid && (userLastNameInput.dirty || userLastNameInput.touched)">
                            <div *ngIf="userLastNameInput.errors.required" style="font-size: 8px; color: red;">Last Name is required.</div>
                            <div *ngIf="userLastNameInput.errors.minlength" style="font-size: 8px; color: red;">Last Name must be at least 3 characters long.</div>
                          </div> -->
                        </div>
                    </div>
                    <h5
                        class="otp-head"
                        style="
                            color: #9e9b9b;
                            font-size: 12px !important;
                            max-width: 550px;
                            line-height: 1.2rem;
                            text-align: center;
                            font-weight: 500;
                            margin-top: 8px !important;
                        "
                    >
                        Please insert OTP sent to your mobile number
                    </h5>
                </div>
                <div class="row align-items-center">
                    <!-- <div class="col-1"></div> -->
                    <div class="col-2 text-center">
                        <h4
                            class="otp-head1"
                            style="margin-top: 20px; font-size: 1rem"
                        >
                            OTP
                        </h4>
                    </div>
                    <div class="col-8">
                        <div
                            id="otp"
                            class="inputs d-flex justify-content-center"
                        >
                            <!-- <ng-otp-input #ngxotp [config]="config" (onInputChange)="onOtpChange($event)">
                    </ng-otp-input> -->
                            <!-- <ngx-otp-input #ngxotp [config]="config" (otpChange)="onOtpChange($event)">
                            </ngx-otp-input>                             -->
                            <div class="otp-container">
                                <div class="otp-box">
                                    <input
                                        type="text"
                                        #txt1
                                        id="txt1"
                                        (input)="pastedEvent($event)"
                                        (keyup)="
                                            move($event, '', txt1, txt2, 0)
                                        "
                                    />
                                </div>
                                <div class="otp-box">
                                    <input
                                        type="text"
                                        #txt2
                                        id="txt2"
                                        (keyup)="
                                            move($event, txt1, txt2, txt3, 1)
                                        "
                                    />
                                </div>
                                <div class="otp-box">
                                    <input
                                        type="text"
                                        #txt3
                                        id="txt3"
                                        (keyup)="
                                            move($event, txt2, txt3, txt4, 2)
                                        "
                                    />
                                </div>
                                <div class="otp-box">
                                    <input
                                        type="text"
                                        #txt4
                                        id="txt4"
                                        (keyup)="
                                            move($event, txt3, txt4, '', 3)
                                        "
                                    />
                                </div>
                            </div>
                        </div>
                        <div *ngIf="showOtpErrors">
                            <span style="color: red">Please check OTP.</span>
                        </div>
                    </div>
                    <div class="col-2 otp-timer text-center">
                        <span *ngIf="!showResendButton">{{
                            transform(counter)
                        }}</span>
                        <span *ngIf="showResendButton">
                            <a
                                (click)="resendOtp()"
                                style="
                                    margin-left: -40px;
                                    margin-right: 50px;
                                    color: #9e9b9b;
                                "
                                >Resend OTP</a
                            >
                        </span>
                    </div>
                    <!-- <div class="col-1"></div> -->
                </div>
                <!-- <div *ngIf="otpError !='undefined'" class="otp_error_msg">
                    <span class="otoErrormsg"> {{otpError}} </span>
                </div> -->
                <!-- <input type="number" autocomplete="on" formControlName="phone"
            placeholder="Enter otp" class="form-control">-->
                <!-- <div class="invalid-feedback">
            <div>Your new OTP has been send to your mobile number
            </div>
        </div> -->
            </div>
            <div class="popup-button">
                <p-button
                    type="submit"
                    label="Submit"
                    class="p-button-text secondary"
                ></p-button>
            </div>
            <h5
                class="resend-head"
                style="cursor: pointer; font-size: 12px !important"
                (click)="changeMobileNumber()"
            >
                Change mobile number
            </h5>
        </form>
    </div>
</p-dialog>

<!-- login popup end -->
<!-- <p-dialog header="Header" [(visible)]="refundPolicy" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <p class="m-0">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
</p-dialog> -->
<p-galleria
    [(value)]="decorImages"
    [(visible)]="showDecorImages"
    [responsiveOptions]="responsiveOptions"
    [containerStyle]="{ 'max-width': '850px' }"
    [numVisible]="7"
    [circular]="true"
    [fullScreen]="true"
    [showItemNavigators]="true"
    [showThumbnails]="false"
    [baseZIndex]="100000"
>
    <ng-template pTemplate="item" let-item>
        <img
            [src]="item.venue_image_src"
            style="width: 100%; height: 100%; display: block"
        />
    </ng-template>
</p-galleria>

<p-dialog
    header="Cancellation and Refund Policy"
    [(visible)]="visible"
    [modal]="true"
    [draggable]="false"
    [resizable]="false"
    class="refund_head"
>
    <!-- <h4 class="refund-policy-text">
    </h4> -->
    <div class="container">
        <div class="container">
            <p class="mb-0">
                At EazyVenue, we are committed to protecting your privacy. This
                Privacy Policy explains how we collect, use, and disclose your
                personal information when you use our website, EazyVenue.in (the
                "Site"). By using the Site, you agree to the collection and use
                of your personal information in accordance with this Privacy
                Policy.
            </p>
            <h2 class="ref_head">Information We Collect</h2>
            <p class="mb-0">
                We collect information you provide directly to us when you use
                our Site, such as when you create an account, book a venue, or
                contact us. This information may include your name, email
                address, phone number, and other contact information.
            </p>
            <p class="mb-0">
                We also collect information automatically when you use our Site,
                such as your IP address, browser type, and device type. We may
                also use cookies and similar technologies to collect and store
                information about your preferences and to personalize your
                experience on our Site.
            </p>
            <h2 class="ref_head">Use of Information</h2>
            <p class="mb-0">
                We use the information we collect to provide, maintain, and
                improve our Site, as well as to personalize your experience on
                our Site. We may also use the information to communicate with
                you, such as to send you updates about your bookings, or to
                respond to your inquiries.
            </p>
            <h2 class="ref_head">Sharing of Information</h2>
            <p class="mb-0">
                We may share your information with third-party service providers
                who perform services on our behalf, such as website hosting,
                data analysis, and payment processing. These service providers
                are only permitted to use your information in connection with
                the services they provide to us.
            </p>
            <p class="mb-0">
                We may also disclose your information as required by law or in
                response to a request from a government or law enforcement
                agency.
            </p>
            <h2 class="ref_head">Security</h2>
            <p class="mb-0">
                We take reasonable measures to protect your information from
                unauthorized access, use, or disclosure. However, no method of
                transmitting or storing information is completely secure, and we
                cannot guarantee the security of your information.
            </p>
            <h2 class="ref_head">Changes to this Privacy Policy</h2>
            <p class="mb-0">
                We may update this Privacy Policy from time to time to reflect
                changes in our practices or applicable laws. We will notify you
                of any material changes to this Privacy Policy by posting the
                updated policy on our Site.
            </p>
            <h2 class="ref_head">Contact Us</h2>
            <p class="mb-0">
                If you have any questions or concerns about this Privacy Policy
                or our data practices, please contact us at info@eazyvenue.com
                or +91 93720 91300
            </p>
            <div style="position: relative">
                <a
                    href="https://www.youtube.com/watch?v=bgUFho4i3mY"
                    target="_blank"
                    ><br />
                </a>
            </div>
        </div>
        <div class="refund-button">
            <button
                pButton
                class="btn btn-custom refund-close-btn"
                (click)="onClickCloseCancelation()"
            >
                CLOSE
            </button>
        </div>
    </div>
</p-dialog>

<p-dialog
    [(visible)]="showVenuesendquery"
    header="Book Your Venue"
    [modal]="true"
    [style]="{ width: '90%', margin: '10px' }"
    [draggable]="false"
    [resizable]="false"
>
    <div class="sidebar-right">
        <p-toast key="toastMsg"></p-toast>
        <div class="sidebar sticky-sidebar">
            <div class="sidebar-widget">
                <span class="select-guest-count-text"
                    >Select Guest Count and Date in the search</span
                >
                <!-- <div class="Price">
                    <div class="real-rice">
                        <h4>
                            <del> ₹49, 372</del>
                            <span *ngIf="isLoggedIn" class="original-price">
                                {{venuePrice|currency:'INR'}}</span>
                        </h4>
                    </div>
                    <div class="newdate disable">
                        <h3>More than one day</h3>
                        <p-inputSwitch [(ngModel)]="checked1"></p-inputSwitch>
                    </div>
                </div> -->
                <div class="col-md-12 right-collapsed-form filter-div">
                    <!-- Modified p-accordion to always stay open -->
                    <p-accordion [multiple]="true" [activeIndex]="[0,1,2]" styleClass="no-accordion-arrows">
                        <p-accordionTab header="Occasion" [selected]="true"  class="occasion-tab">
                            <ng-template pTemplate="header">
                                <div class="accordion-header">
                                    <!-- <div class="selected-list col-md-12 p-0"> -->
                                    <div
                                        *ngFor="
                                            let occasion of selectedOccasionNames
                                        "
                                        class="div selected-list"
                                    >
                                        <span> : {{ occasion.name }}</span>
                                    </div>
                                    <!-- </div> -->
                                </div>
                            </ng-template>
                            <div class="occasion-list">
                                <div class="col-md-12 p-0">
                                    <div
                                        *ngIf="occasionArray.length > 0"
                                        class="div"
                                    >
                                        <p-carousel
                                            [value]="uniqueOccasions"
                                            styleClass="custom-carousel"
                                            [numVisible]="2"
                                            [numScroll]="2"
                                            [circular]="false"
                                            [autoplayInterval]="3000"
                                        >
                                            <ng-template
                                                let-occasion
                                                pTemplate="item"
                                            >
                                                <div
                                                    (click)="
                                                        onClickOccasion(
                                                            occasion
                                                        )
                                                    "
                                                    class="product-item"
                                                >
                                                    <div
                                                        [ngClass]="
                                                            occasion.selected
                                                                ? 'occasion-active-bottom'
                                                                : ''
                                                        "
                                                        class="occasion-icon-top"
                                                    >
                                                        <p-avatarGroup
                                                            styleClass="mb-4"
                                                        >
                                                            <p-avatar
                                                                class="no-circle"
                                                                image="{{
                                                                    occasion.image_src
                                                                }}"
                                                                size=" large"
                                                                pTooltip="{{
                                                                    occasion.name
                                                                }}"
                                                                tooltipPosition="top"
                                                                [style]="{
                                                                    width: '37px',
                                                                    height: '37px',
                                                                    color: '#ffffff'
                                                                }"
                                                            ></p-avatar>
                                                        </p-avatarGroup>
                                                        <div class="div-title">
                                                            <h5>
                                                                {{
                                                                    occasion.name
                                                                }}
                                                            </h5>
                                                        </div>
                                                        <!-- assets/images/category-icons/{{occasion.categoryImage}}.svg -->
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </p-carousel>
                                    </div>
                                </div>
                                <div
                                    *ngIf="occasionArray.length == 0"
                                    class="div"
                                >
                                    Facilities at banquet not available.
                                </div>
                            </div>
                        </p-accordionTab>

                        <p-accordionTab header="Guest Count" [selected]="true" >
                            <ng-template pTemplate="header">
                                <div class="accordion-header">
                                    <div
                                        *ngIf="selectedVenueCapacity != undefined"
                                        class="p-0"
                                    >
                                        <span class="selected-list">
                                            : {{ selectedVenueCapacity }}</span
                                        >
                                    </div>
                                </div>
                            </ng-template>
                            <!-- Modified to show custom guest count ranges -->
                            <div class="col-md-12 p-0 time-slots">
                                <div class="row text-center">
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">0 to 100</h5>
                                        <p-radioButton
                                            [value]="{ id: 1, label: '0 to 100', condition: 'lte', value: 100, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 1, label: '0 to 100', condition: 'lte', value: 100, status: false })"
                                        ></p-radioButton>
                                    </div>
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">100 to 150</h5>
                                        <p-radioButton
                                            [value]="{ id: 2, label: '100 to 150', condition: 'range', min: 100, max: 150, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 2, label: '100 to 150', condition: 'range', min: 100, max: 150, status: false })"
                                        ></p-radioButton>
                                    </div>
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">250+</h5>
                                        <p-radioButton
                                            [value]="{ id: 3, label: '250+', condition: 'gte', value: 250, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 3, label: '250+', condition: 'gte', value: 250, status: false })"
                                        ></p-radioButton>
                                    </div>
                                </div>
                            </div>
                        </p-accordionTab>

                        <p-accordionTab
                            header="Time Slot"
                            class="time-slot-tab"
                            [selected]="true"

                        >
                            <ng-template pTemplate="header">
                                <div class="accordion-header">
                                    <span class="selected-list">{{
                                        selectedStartDate
                                    }}</span>
                                    <span
                                        class="selected-list pl-0 pr-0"
                                        *ngIf="selectedEndDate"
                                        >-</span
                                    >
                                    <span
                                        class="selected-list"
                                        *ngIf="selectedEndDate"
                                        >{{ selectedEndDate }}
                                    </span>
                                    <span class="selected-list">{{
                                        selectedSlotsName
                                    }}</span>
                                </div>
                            </ng-template>

                            <div class="col-md-12 p-0 time-slots">
                                <div *ngIf="slotList.length > 0">
                                    <div class="row text-center">
                                        <!-- Explicitly show only Full Day, Morning, Evening slots -->
                                        <ng-container *ngFor="let slot of slotList">
                                            <div
                                                class="col text-center"
                                                *ngIf="slot.slot === 'Full Day' || slot.slot === 'Morning' || slot.slot === 'Evening'"
                                            >
                                                <h5
                                                    class="decor-name pb-1 slot-name"
                                                >
                                                    {{ slot.slot }}
                                                </h5>
                                                <p-radioButton
                                                    [value]="slot"
                                                    [(ngModel)]="selectedSlot"
                                                    (click)="onSlotClick(slot)"
                                                >
                                                </p-radioButton>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div
                                    *ngIf="showAvailabilityMessage"
                                >
                                    No slots available on this selected date
                                    range. You can request for enquiries.
                                </div>
                            </div>
                        </p-accordionTab>

                    </p-accordion>
                </div>

                <div class="col-md-12 Send-btn">
                    <button
                        *ngIf="!showAvailabilityMessage"
                        (click)="onClickSendfastquery('send_enquires')"
                        pButton
                        class="btn btn-custom w-100 price-btn"
                    >
                        Send Enquiries
                        <!-- {{bookingPrice|currency:'INR'}} -->
                    </button>
                </div>
                <!-- <p-button (click)="schedulevisit()" icon="pi pi-external-link" label="Show"></p-button> -->
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog
    [(visible)]="showVenueDetailFilter"
    header="Book Your Venue"
    [modal]="true"
    [style]="{ width: '90%', margin: '10px' }"
    [draggable]="false"
    [resizable]="false"
>
    <div class="sidebar-right">
        <p-toast key="toastMsg"></p-toast>
        <div class="top-button">
            <button
                *ngIf="showSendEnquiries"
                (click)="onClickSendEnquiries('send_enquires')"
                pButton
                class="btn btn-custom"
            >
                Send Enquiry
            </button>
        </div>
        <div class="sidebar sticky-sidebar">
            <div class="sidebar-widget">
                <span class="select-guest-count-text"
                    >Select Guest Count and Date in the search</span
                >
                <!-- <div class="Price">
                    <div class="real-rice">
                        <h4>
                            <del> ₹49, 372</del>
                            <span *ngIf="isLoggedIn" class="original-price">
                                {{venuePrice|currency:'INR'}}</span>
                        </h4>
                    </div>
                    <div class="newdate disable">
                        <h3>More than one day</h3>
                        <p-inputSwitch [(ngModel)]="checked1"></p-inputSwitch>
                    </div>
                </div> -->
                <div class="col-md-12 right-collapsed-form filter-div">
                    <p-accordion [multiple]="true">
                        <p-accordionTab header="Occasion" class="occasion-tab">
                            <ng-template pTemplate="header">
                                <!-- <div class="selected-list col-md-12 p-0"> -->
                                <div
                                    *ngFor="
                                        let occasion of selectedOccasionNames
                                    "
                                    class="div selected-list"
                                >
                                    <span> : {{ occasion.name }}</span>
                                </div>
                                <!-- </div> -->
                            </ng-template>
                            <div class="occasion-list">
                                <div class="col-md-12 p-0">
                                    <div
                                        *ngIf="occasionArray.length > 0"
                                        class="div"
                                    >
                                        <p-carousel
                                            [value]="occasionArray"
                                            styleClass="custom-carousel"
                                            [numVisible]="2"
                                            [numScroll]="2"
                                            [circular]="false"
                                            [autoplayInterval]="3000"
                                        >
                                            <ng-template
                                                let-occasion
                                                pTemplate="item"
                                            >
                                                <div
                                                    (click)="
                                                        onClickOccasion(
                                                            occasion
                                                        )
                                                    "
                                                    class="product-item"
                                                >
                                                    <div
                                                        [ngClass]="
                                                            occasion.selected
                                                                ? 'occasion-active-bottom'
                                                                : ''
                                                        "
                                                        class="occasion-icon-top"
                                                    >
                                                        <p-avatarGroup
                                                            styleClass="mb-4"
                                                        >
                                                            <p-avatar
                                                                class="no-circle"
                                                                image="{{
                                                                    occasion.image_src
                                                                }}"
                                                                size=" large"
                                                                pTooltip="{{
                                                                    occasion.name
                                                                }}"
                                                                tooltipPosition="top"
                                                                [style]="{
                                                                    width: '37px',
                                                                    height: '37px',
                                                                    color: '#ffffff'
                                                                }"
                                                            ></p-avatar>
                                                        </p-avatarGroup>
                                                        <div class="div-title">
                                                            <h5>
                                                                {{
                                                                    occasion.name
                                                                }}
                                                            </h5>
                                                        </div>
                                                        <!-- assets/images/category-icons/{{occasion.categoryImage}}.svg -->
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </p-carousel>
                                    </div>
                                </div>
                                <div
                                    *ngIf="occasionArray.length == 0"
                                    class="div"
                                >
                                    Facilities at banquet not available.
                                </div>
                            </div>
                        </p-accordionTab>

                        <p-accordionTab header="Guest Count" [selected]="true" >
                            <ng-template pTemplate="header">
                                <div class="accordion-header">
                                    <div
                                        *ngIf="selectedVenueCapacity != undefined"
                                        class="p-0"
                                    >
                                        <span class="selected-list">
                                            : {{ selectedVenueCapacity }}</span
                                        >
                                    </div>
                                </div>
                            </ng-template>
                            <!-- Modified to show custom guest count ranges -->
                            <div class="col-md-12 p-0 time-slots">
                                <div class="row text-center">
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">0 to 100</h5>
                                        <p-radioButton
                                            [value]="{ id: 1, label: '100', condition: 'lte', value: 100, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 1, label: '100', condition: 'lte', value: 100, status: false })"
                                        ></p-radioButton>
                                    </div>
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">100 to 300</h5>
                                        <p-radioButton
                                            [value]="{ id: 2, label: '300', condition: 'lte', value: 300, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 2, label: '300', condition: 'lte', value: 300, status: false })"
                                        ></p-radioButton>
                                    </div>
                                    <div class="col text-center">
                                        <h5 class="decor-name pb-1 slot-name">350+</h5>
                                        <p-radioButton
                                            [value]="{ id: 3, label: '500', condition: 'gte', value: 500, status: false }"
                                            [(ngModel)]="selectedCapacity"
                                            (click)="onCapacitySelect({ id: 3, label: '500', condition: 'gte', value: 500, status: false })"
                                        ></p-radioButton>
                                    </div>
                                </div>
                            </div>
                        </p-accordionTab>
                        <p-accordionTab
                            header="Time Slot"
                            class="time-slot-tab"
                            [selected]="true"

                        >
                            <ng-template pTemplate="header">
                                <div class="accordion-header">
                                    <span class="selected-list">{{
                                        selectedStartDate
                                    }}</span>
                                    <span
                                        class="selected-list pl-0 pr-0"
                                        *ngIf="selectedEndDate"
                                        >-</span
                                    >
                                    <span
                                        class="selected-list"
                                        *ngIf="selectedEndDate"
                                        >{{ selectedEndDate }}
                                    </span>
                                    <span class="selected-list">{{
                                        selectedSlotsName
                                    }}</span>
                                </div>
                            </ng-template>

                            <div class="col-md-12 p-0 time-slots">
                                <div *ngIf="slotList.length > 0">
                                    <div class="row text-center">
                                        <!-- Explicitly show only Full Day, Morning, Evening slots -->
                                        <ng-container *ngFor="let slot of slotList">
                                            <div
                                                class="col text-center"
                                                *ngIf="slot.slot === 'Full Day' || slot.slot === 'Morning' || slot.slot === 'Evening'"
                                            >
                                                <h5
                                                    class="decor-name pb-1 slot-name"
                                                >
                                                    {{ slot.slot }}
                                                </h5>
                                                <p-radioButton
                                                    [value]="slot"
                                                    [(ngModel)]="selectedSlot"
                                                    (click)="onSlotClick(slot)"
                                                >
                                                </p-radioButton>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div
                                    *ngIf="showAvailabilityMessage"
                                >
                                    No slots available on this selected date
                                    range. You can request for enquiries.
                                </div>
                            </div>
                        </p-accordionTab>
                        <p-accordionTab header="Food Menu">
                            <ng-template pTemplate="header">
                                <div
                                    *ngIf="selectedFoodType != undefined"
                                    class="p-0"
                                >
                                    <span class="selected-list">
                                        : {{ selectedFoodType.name }}</span
                                    >
                                </div>
                                <div
                                    *ngIf="selectedFoodMenuType != undefined"
                                    class="selected-list p-0"
                                >
                                    <span>{{ selectedFoodMenuType.slug }}</span>
                                </div>
                            </ng-template>
                            <div class="flex justify-content-center">
                                <div class="row food-style">
                                    <div
                                        *ngFor="let foodType of foodTypesListA"
                                        class="col-6 food-type-section"
                                    >
                                        <p-radioButton
                                            [value]="foodType"
                                            [disabled]="foodType.disable"
                                            [(ngModel)]="selectedFoodType"
                                            (onClick)="
                                                onFoodTypeClick(foodType)
                                            "
                                        >
                                        </p-radioButton>
                                        <label
                                            [ngClass]="
                                                foodType.disable
                                                    ? 'foodtype-disabled ml-2 food-type-text'
                                                    : 'ml-2 food-type-text'
                                            "
                                        >
                                            <img
                                                src="assets/images/food-pacakge/{{
                                                    foodType.slug
                                                }}.png"
                                                class="food-img"
                                            />
                                            {{ foodType.name }}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div
                                *ngIf="selectedFoodType != undefined"
                                class="foodtypemenutext"
                            >
                                <p-accordionTab
                                    header="{{ selectedFoodType.name }}"
                                    [selected]="true"
                                    class="foodtypemenutext"
                                >
                                    <ng-template pTemplate="header">
                                        <div
                                            *ngIf="
                                                selectedFoodMenuType !=
                                                undefined
                                            "
                                            class="selected-list"
                                        >
                                            <span>
                                                {{
                                                    selectedFoodMenuType.slug
                                                }}</span
                                            >
                                        </div>
                                    </ng-template>
                                    <div class="flex justify-content-center">
                                        <div class="row row-cols-5">
                                            <div
                                                *ngFor="
                                                    let foodMenuType of foodMenuTypes
                                                "
                                                class="col-4 per-plate-price"
                                            >
                                                <div
                                                    class="package-box"
                                                    [ngClass]="
                                                        foodMenuType.selected
                                                            ? 'menulist'
                                                            : ''
                                                    "
                                                >
                                                    <h5 class="plate-size">
                                                        {{ foodMenuType.slug }}
                                                    </h5>
                                                    <img
                                                        src="assets/images/category-icons/plate.svg"
                                                        class="food-img"
                                                    />
                                                </div>
                                                <div class="price-list">
                                                    <h5
                                                        class="plate-price"
                                                        [ngClass]="
                                                            foodMenuType.selected
                                                                ? 'menulistprice'
                                                                : ''
                                                        "
                                                    >
                                                        {{
                                                            foodMenuType.value
                                                                | currency
                                                                    : "INR"
                                                        }}
                                                    </h5>
                                                    <p-radioButton
                                                        [value]="foodMenuType"
                                                        (click)="
                                                            onFoodMenuTypeClick(
                                                                foodMenuType,
                                                                $event
                                                            )
                                                        "
                                                        [(ngModel)]="
                                                            selectedFoodMenuType
                                                        "
                                                    >
                                                    </p-radioButton>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </p-accordionTab>
                            </div>
                        </p-accordionTab>
                        <p-accordionTab header="Wedding Decor">
                            <ng-template pTemplate="header">
                                <div
                                    *ngIf="selectedDecor != undefined"
                                    class="selected-list"
                                >
                                    <span>: {{ selectedDecor.name }}</span
                                    >&nbsp;&nbsp;
                                </div>
                            </ng-template>
                            <div class="row">
                                <div
                                    *ngFor="let decor of decorArray"
                                    class="col"
                                >
                                    <h5 class="decor-name pt-0">
                                        {{ decor.name }}
                                    </h5>
                                    <div class="decor-img">
                                        <img
                                            src="{{ decor.image }}"
                                            (click)="onClickDecorImage(decor)"
                                            class="decor-img"
                                        />
                                    </div>
                                    <div class="price-list">
                                        <h5 class="decor-name">
                                            <span *ngIf="isLoggedIn">{{
                                                !isNumber(decor.price)
                                                    ? decor.price
                                                    : (decor.price
                                                      | currency : "INR")
                                            }}</span>
                                        </h5>
                                        <p-radioButton
                                            [(ngModel)]="selectedDecor"
                                            [value]="decor"
                                            (click)="onClickDecor(decor)"
                                        ></p-radioButton>
                                    </div>
                                </div>
                            </div>
                        </p-accordionTab>
                    </p-accordion>
                </div>

                <div class="col-md-12 total-amount-div">
                    <div class="row">
                        <div class="col">
                            <div class="total-amt-heading">
                                <h4>Total Amount</h4>
                                <span>exclusive of Taxes</span>
                            </div>
                            <!-- <span *ngIf="isLoggedIn">{{totalVenuePrice|currency:'INR'}}</span> -->
                        </div>
                        <div class="col">
                            <div *ngIf="venueDetails" class="price">
                                <h4
                                    *ngIf="selectedVenueCapacity > 0"
                                    class="total-price"
                                >
                                    {{ totalVenuePrice | currency : "INR" }}
                                </h4>
                                <!-- <span class="real-price">₹ 3,00,000</span> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 coupon-code">
                    <span class="p-input-icon-left">
                        <i class="coupon-icon"
                            ><img
                                src="assets/images/icons/coupon.png"
                                class="icon-size"
                        /></i>
                        <input
                            class="coupon-input coupon-box"
                            placeholder="Enter Coupon Code"
                            type="text"
                            pInputText
                        />
                    </span>
                    <!-- <input pInputText type="text" placeholder="Enter Coupon Code" class="coupon-input" [(ngModel)]="value2" /> -->
                </div>

                <div class="col-md-12 Send-btn">
                    <button
                        *ngIf="!showAvailabilityMessage"
                        (click)="onClickSendEnquiries('book_now')"
                        pButton
                        class="btn btn-custom w-100 price-btn"
                    >
                        Reserve For {{ 5000 | currency : "INR" }}
                        <!-- {{bookingPrice|currency:'INR'}} -->
                    </button>
                    <button
                        *ngIf="showAvailabilityMessage"
                        (click)="onClickSendEnquiries('send_enquires')"
                        pButton
                        class="btn btn-custom w-100 price-btn"
                    >
                        Send Enquiries
                        <!-- {{bookingPrice|currency:'INR'}} -->
                    </button>
                </div>
                <div class="col-md-12 advantages">
                    <h5 class="heading-ad">UNLOCKED AFTER BOOKING:</h5>
                    <ul class="advantages-list">
                        <li class="adv-list">Dates are blocked at the venue</li>
                        <li class="adv-list">
                            Personalized venue advisory is allocated
                        </li>
                        <li class="adv-list">You can avail free venue visit</li>
                        <li class="adv-list">
                            You can avail food testing for a couple
                        </li>
                        <li class="adv-list">
                            Above booking amount will be adjusted in final
                            billing amount
                        </li>
                    </ul>
                    <h5 class="booking-ad mb-2">
                        *Booking Amount Refundable Upto 7 Days
                    </h5>
                    <h5 class="refund_part">
                        <a
                            class="refund_policy"
                            href="javajavascript:void(0);"
                            (click)="showDialog()"
                            >CANCELLATION & REFUND POLICY DETAILS</a
                        >
                    </h5>
                    <!-- <p-button (click)="showRefund()" label="CANCELATION & REFUND POLICY DETAILS" styleClass="p-button-text"></p-button> -->
                </div>
                <!-- <p-button (click)="schedulevisit()" icon="pi pi-external-link" label="Show"></p-button> -->
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog
    header="Search Venue"
    [(visible)]="venueDetailSearch"
    [modal]="venueDetailSearch"
    [style]="{ width: '90%', height: '345px', overflow: 'visible' }"
    class=""
>
    <!-- <h3 class="home-search-popup-heading"></h3> -->
    <div class="home-search-fields">
        <div
            class="row justify-content-center popup_venue-list_search search-bar search_bar_listing_page"
        >
            <div class="city-field col-md-3 p-p-0">
                <span class="p-fluid">
                    <label for="" class="icons-image">
                        <img
                            src="assets/images/category-icons/celebration.svg"
                        />
                    </label>
                    <!-- <p-autoComplete [(ngModel)]="selectedOccasion" (onSelect)="onClickOccasionCategory($event)"
                        (onClear)="onClickOccasionCategory($event)" placeholder="Occasion"
                        class="occasion-list detail-occasion-list" [dropdown]="true" [suggestions]="filterOccasion"
                        (completeMethod)="filterCategory($event)" field="name"></p-autoComplete> -->
                    <p-dropdown
                        [options]="occasion"
                        [(ngModel)]="selectedOccasion1"
                        placeholder="Occasion"
                        optionLabel="name"
                        class="occasion-drop"
                        class="occasion-list detail-occasion-list"
                    ></p-dropdown>
                </span>
            </div>
            <div class="serch-bar-field col-3 p-p-0">
                <span class="p-fluid">
                    <label for="" class="icons-image search-icon">
                        <img
                            src="assets/images/category-icons/search.png"
                            class="search-icon"
                        />
                    </label>
                    <p-autoComplete
                        [ngModelOptions]="{ standalone: true }"
                        [(ngModel)]="selectedFilter"
                        [suggestions]="filteredList"
                        (completeMethod)="search($event)"
                        (onSelect)="onSelectSearch($event)"
                        (onUnselect)="onClearResetAllData($event)"
                        field="name"
                        placeholder="City/Area/Venue/Restaurant/Banquet"
                        [multiple]="true"
                    >
                        <ng-template let-item pTemplate="item">
                            <div class="flex align-items-center">
                                {{ item.name }}
                                <span *ngIf="item.mode == 'subarea'">
                                    <span *ngIf="item.cityname"
                                        >, {{ item.cityname }}</span
                                    >
                                    <span *ngIf="item.statename"
                                        >, {{ item.statename }}</span
                                    >
                                </span>
                            </div>
                        </ng-template>
                    </p-autoComplete>
                </span>
            </div>
            <div class="col-2 guest_field_list p-p-0">
                <div class="Guest-field">
                    <label for="" class="icons-image">
                        <img src="assets/images/svg-icons/guest-icon.svg" />
                    </label>
                    <p-dropdown
                        appendTo="modal"
                        [options]="filterGuestArray"
                        placeholder="Guest Count"
                        optionLabel="label"
                        [(ngModel)]="selectedVenueCapacity"
                        (onChange)="onCapacitySelect($event.value)"
                        [editable]="true"
                        [style]="{ 'background-color': 'white' }"
                    ></p-dropdown>
                    <!-- <p-button [label]="selectedProduct ? selectedProduct.name : 'Guest Count'"
                    (click)="op.toggle($event)"></p-button> -->
                </div>
                <p-overlayPanel #op [showCloseIcon]="false">
                    <ng-template pTemplate>
                        <div class="p-field p-col-12 p-md-12 gest-count-module">
                            <div class="gets-count-list">
                                <label for="horizontal">Adults</label>
                                <p-inputNumber
                                    [(ngModel)]="value18"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Children</label>
                                <p-inputNumber
                                    [(ngModel)]="value19"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Infants</label>
                                <p-inputNumber
                                    [(ngModel)]="value20"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                            <div class="gets-count-list">
                                <label for="horizontal">Pets</label>
                                <p-inputNumber
                                    [(ngModel)]="value21"
                                    [showButtons]="true"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    [step]="10"
                                    decrementButtonClass="left-button"
                                    incrementButtonClass="right-button"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                >
                                </p-inputNumber>
                            </div>
                        </div>
                    </ng-template>
                </p-overlayPanel>
            </div>
            <div class="col-md-12 calendar-div p-p-0">
                <label for="" class="icons-image"
                    ><img src="assets/images/svg-icons/calender-icon.svg"
                /></label>
                <p-calendar
                    #searchCalendar
                    dateFormat="dd/mm/yy"
                    [minDate]="minDateValue"
                    [disabledDates]="disabledDates"
                    [(ngModel)]="rangeDates"
                    appendTo="body"
                    placeholder="Date"
                    selectionMode="range"
                    [readonlyInput]="true"
                    inputId="range"
                    [numberOfMonths]="1"
                    (onSelect)="onClickEventDate($event)"
                >
                    <!-- <ng-template pTemplate="footer">
                        <p-button label="Clear" icon="pi pi-filter-slash"
                            styleClass="p-button-raised p-button-text p-button-danger p-button-sm clear-btn-bottom"
                            (click)="onClickClear()"></p-button>
                        <p-button label="Close" icon="pi pi-times" (click)="onClickCalendarClose()"
                            styleClass="p-button-sm p-button-raised p-button-text p-button-danger close-btn-bottom"></p-button>
                    </ng-template> -->
                </p-calendar>
                <!-- <p-calendar [(ngModel)]="rangeDates" placeholder="Date" selectionMode="range" [readonlyInput]="true"
                    inputId="range" [numberOfMonths]="1"></p-calendar> -->
            </div>
            <div class="col-md-12 p-p-0 calendar-div">
                <button
                    (click)="onClickSearch()"
                    pButton
                    pRipple
                    type="button"
                    class="p-button-rounded p-button-danger secondary btn-custom secondary w-100"
                >
                    Search
                </button>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog
    [header]="
        orderType === 'book_now'
            ? 'Venue Booking Summary'
            : 'Venue Inquiry Summary'
    "
    [(visible)]="isBookingSummary"
    [modal]="true"
    class="booking-modal"
    [draggable]="false"
    [resizable]="false"
>
    <div class="popupfilter sidebar Filter-siderbar sidebar-left popupfilter">
        <div class="sidebar-widget">
            <p-accordion [multiple]="true">
                <p-accordionTab header="Venue :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500">{{
                                venueDetails.name
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Location :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500"
                                >{{ venueDetails.subarea }},
                                {{ venueDetails.cityname }}</span
                            >
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Occasion:" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500">{{
                                sOccasion.name
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Guest Count :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div
                            *ngIf="selectedVenueCapacity"
                            class="div selected-list"
                        >
                            <span style="font-weight: 500">{{
                                selectedVenueCapacity
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Time Slot :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <span class="selected-list" style="font-weight: 500">{{
                            selectedStartDate
                        }}</span>
                        <span
                            class="selected-list pl-0 pr-0"
                            *ngIf="selectedEndDate"
                            style="font-weight: 500"
                            >-</span
                        >
                        <span
                            class="selected-list"
                            *ngIf="selectedEndDate"
                            style="font-weight: 500"
                            >{{ selectedEndDate }}
                        </span>
                        <span class="selected-list" style="font-weight: 500">{{
                            selectedSlotsName
                        }}</span>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Food Menu :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div
                            *ngIf="
                                selectedFoodType != undefined;
                                else naContent
                            "
                            class="p-0 selected-list"
                        >
                            <span style="font-weight: 500"
                                >&nbsp;&nbsp;{{
                                    selectedFoodType.name
                                }}&nbsp;</span
                            >
                        </div>
                        <div
                            *ngIf="selectedFoodMenuType != undefined"
                            class="selected-list p-0"
                        >
                            <span style="font-weight: 500">{{
                                selectedFoodMenuType.slug
                            }}</span>
                        </div>
                        <ng-template #naContent>
                            <div class="p-0 selected-list">
                                <span style="font-weight: 500"
                                    >&nbsp;&nbsp;NA&nbsp;</span
                                >
                            </div>
                        </ng-template>
                    </ng-template>
                </p-accordionTab>
            </p-accordion>
            <div
                *ngIf="orderType === 'book_now'"
                class="col-md-12 total-amount-div"
            >
                <div class="row">
                    <div class="col">
                        <div
                            class="total-amt-heading"
                            *ngIf="totalFoodPrice > 0"
                        >
                            <h4>
                                Food Amount :
                                <span style="color: #ec3539">{{
                                    totalFoodPrice | currency : "INR"
                                }}</span>
                            </h4>
                        </div>
                        <div class="total-amt-heading" *ngIf="premiumDecor">
                            <h4>
                                Decor Amount :
                                <span style="color: #ec3539">
                                    Call for prices</span
                                >
                            </h4>
                        </div>
                        <div
                            class="total-amt-heading"
                            *ngIf="selectedDecorPrice > 0"
                        >
                            <h4>
                                Decor Amount :
                                <span style="color: #ec3539">{{
                                    selectedDecorPrice | currency : "INR"
                                }}</span>
                            </h4>
                        </div>
                        <div class="total-amt-heading">
                            <h4>
                                Total Amount :
                                <span style="color: #ec3539">{{
                                    totalVenuePrice | currency : "INR"
                                }}</span>
                            </h4>
                            <span>exclusive of Taxes</span>
                        </div>
                        <div class="payment-options" *ngIf="orderType == 'book_now'">
                            <div class="payment-option-item">
                                <p-radioButton
                                    [(ngModel)]="paymentAmount"
                                    value="full"
                                    [label]="'Full Amount: ' + (totalVenuePrice | currency : 'INR')"
                                    inputId="full-amount">
                                </p-radioButton>
                            </div>
                            <div class="payment-option-item">
                                <p-radioButton
                                    [(ngModel)]="paymentAmount"
                                    value="25_percent"
                                    [label]="'25% Amount: ' + (offerPaymentValue25_percent | currency : 'INR')"
                                    inputId="partial-amount">
                                </p-radioButton>
                            </div>
                            <div class="payment-option-item">
                                <p-radioButton
                                    [(ngModel)]="paymentAmount"
                                    value="5000_rupees"
                                    [label]="'Block dates @ ' + (5000 | currency : 'INR')"
                                    inputId="block-amount">
                                </p-radioButton>
                            </div>
                            <div class="payment-option-item">
                                <p-radioButton
                                    [(ngModel)]="paymentAmount"
                                    value="custom"
                                    [label]="'Custom Amount'"
                                    inputId="custom-amount">
                                </p-radioButton>
                                <div *ngIf="paymentAmount === 'custom'" class="custom-amount-input mt-2">
                                    <p-inputNumber
                                        [(ngModel)]="customAmountValue"
                                        [min]="5000"
                                        [max]="totalVenuePrice"
                                        mode="currency"
                                        currency="INR"
                                        placeholder="Enter amount"
                                        (onInput)="onCustomAmountChange($event)">
                                    </p-inputNumber>
                                    <small class="text-muted" *ngIf="customAmountValue > totalVenuePrice">
                                        Amount cannot exceed total venue price
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 Send-btn">
                <button
                    *ngIf="orderType == 'book_now'"
                    [disabled]="paymentAmount == undefined"
                    (click)="onClickBooking('book_now')"
                    pButton
                    class="btn btn-custom w-100 price-btn"
                >
                    Book Now
                </button>
                <button
                    *ngIf="orderType == 'send_enquires'"
                    (click)="onClickBooking('send_enquires')"
                    pButton
                    class="btn btn-custom w-100 price-btn"
                >
                    Send Enquiry
                </button>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog
    [header]="
        orderType === 'book_now'
            ? 'Venue Booking Summary'
            : 'Venue Inquiry Summary'
    "
    [(visible)]="isBookingenquerySummary"
    [modal]="true"
    class="booking-modal"
    [draggable]="false"
    [resizable]="false"
>
    <div class="popupfilter sidebar Filter-siderbar sidebar-left popupfilter">
        <div class="sidebar-widget">
            <p-accordion [multiple]="true">
                <p-accordionTab header="Venue :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500">{{
                                venueDetails.name
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Location :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500"
                                >{{ venueDetails.subarea }},
                                {{ venueDetails.cityname }}</span
                            >
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Occasion:" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div *ngIf="sOccasion" class="div selected-list">
                            <span style="font-weight: 500">{{
                                sOccasion.name
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Guest Count :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <div
                            *ngIf="selectedVenueCapacity"
                            class="div selected-list"
                        >
                            <span style="font-weight: 500">{{
                                selectedVenueCapacity
                            }}</span>
                        </div>
                    </ng-template>
                </p-accordionTab>
                <p-accordionTab header="Time Slot :" class="ui-accordion">
                    <ng-template pTemplate="header">
                        <span class="selected-list" style="font-weight: 500">{{
                            selectedStartDate
                        }}</span>
                        <span
                            class="selected-list pl-0 pr-0"
                            *ngIf="selectedEndDate"
                            style="font-weight: 500"
                            >-</span
                        >
                        <span
                            class="selected-list"
                            *ngIf="selectedEndDate"
                            style="font-weight: 500"
                            >{{ selectedEndDate }}
                        </span>
                        <span class="selected-list" style="font-weight: 500">{{
                            selectedSlotsName
                        }}</span>
                    </ng-template>
                </p-accordionTab>
            </p-accordion>
            <div class="col-md-12 Send-btn">
                <button
                    *ngIf="orderType == 'send_enquires'"
                    (click)="onClickBooking('send_enquires')"
                    pButton
                    class="btn btn-custom w-100 price-btn"
                >
                    Send Enquery
                </button>
            </div>
        </div>
    </div>
</p-dialog>
