<p-toast key="toastmsg"></p-toast>

<div class="signup-container">
  <!-- Left side - Image and branding -->
  <div class="signup-left">
    <div class="image-overlay">
      <div class="brand-content">
        <div class="logo-section">
          <img src="assets/images/logo.png" alt="Eazy Venue" class="logo" />
        </div>
        <div class="tagline-section">
          <h1 class="main-tagline">Join the family</h1>
          <h2 class="sub-tagline">Start your venue journey with EazyVenue!</h2>
          <p class="description">Connect with couples and create unforgettable wedding experiences</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Right side - Signup form -->
  <div class="signup-right">
    <div class="signup-form-container">
      <div class="form-header">
        <h3 class="form-title">Create your venue account</h3>
        <p class="form-subtitle">
          Already have an account?
          <a [routerLink]="['/login']" class="login-link">Sign in here</a>
        </p>
      </div>

      <!-- Signup form -->
      <form [formGroup]="userForm" *ngIf="this.userForm" (ngSubmit)="onSubmit()" class="signup-form">

        <!-- Essential Information Section -->
        <div class="form-section">
          <h4 class="section-title">Essential Information</h4>
          <p class="section-description">Please fill in all required fields to create your account</p>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="firstName" class="form-label">First Name <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-user input-icon"></i>
                <input
                  pInputText
                  id="firstName"
                  formControlName="firstName"
                  placeholder="Enter your first name"
                  class="form-input"
                  [class.error]="submitted && f.firstName.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.firstName.errors">
                <div *ngIf="f.firstName.errors.required">First name is required</div>
                <div *ngIf="f.firstName.errors.pattern">Only alphabets allowed</div>
              </div>
            </div>

            <div class="form-group half">
              <label for="lastName" class="form-label">Last Name <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-user input-icon"></i>
                <input
                  pInputText
                  id="lastName"
                  formControlName="lastName"
                  placeholder="Enter your last name"
                  class="form-input"
                  [class.error]="submitted && f.lastName.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.lastName.errors">
                <div *ngIf="f.lastName.errors.required">Last name is required</div>
                <div *ngIf="f.lastName.errors.pattern">Only alphabets allowed</div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group half">
              <label for="email" class="form-label">Email Address <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-envelope input-icon"></i>
                <input
                  pInputText
                  id="email"
                  type="email"
                  formControlName="email"
                  placeholder="Enter your email address"
                  class="form-input"
                  [class.error]="submitted && f.email.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.email.errors">
                <div *ngIf="f.email.errors.required">Email is required</div>
                <div *ngIf="f.email.errors.email">Enter valid email address</div>
              </div>
            </div>

            <div class="form-group half">
              <label for="mobileNumber" class="form-label">Mobile Number <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-phone input-icon"></i>
                <input
                  pInputText
                  id="mobileNumber"
                  formControlName="mobileNumber"
                  minlength="10"
                  maxlength="12"
                  placeholder="Enter your mobile number"
                  class="form-input"
                  [class.error]="submitted && f.mobileNumber.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.mobileNumber.errors">
                <div *ngIf="f.mobileNumber.errors.required">Mobile number is required</div>
                <div *ngIf="f.mobileNumber.errors.pattern">Please enter a valid mobile number</div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group half">
              <label for="password" class="form-label">Password <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-lock input-icon"></i>
                <input
                  pPassword
                  id="password"
                  formControlName="password"
                  placeholder="Create a password"
                  class="form-input"
                  [class.error]="submitted && f.password.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.password.errors">
                <div *ngIf="f.password.errors.required">Password is required</div>
                <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
              </div>
            </div>

            <div class="form-group half">
              <label for="confirmPassword" class="form-label">Confirm Password <span class="required">*</span></label>
              <div class="input-wrapper">
                <i class="fas fa-lock input-icon"></i>
                <input
                  pPassword
                  id="confirmPassword"
                  formControlName="confirmPassword"
                  placeholder="Confirm your password"
                  class="form-input"
                  [class.error]="submitted && f.confirmPassword.errors"
                />
              </div>
              <div class="error-message" *ngIf="submitted && f.confirmPassword.errors">
                <div *ngIf="f.confirmPassword.errors.required">Confirm password is required</div>
                <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group half">
              <label for="gender" class="form-label">Gender <span class="required">*</span></label>
              <div class="input-wrapper dropdown-wrapper">
                <i class="fas fa-venus-mars input-icon"></i>
                <p-dropdown
                  inputId="gender"
                  [options]="genders"
                  formControlName="gender"
                  placeholder="Select gender"
                  optionLabel="name"
                  (ngModelChange)="onGenderSelect($event)"
                  class="form-dropdown"
                  [class.error]="submitted && f.gender.errors"
                ></p-dropdown>
              </div>
              <div class="error-message" *ngIf="submitted && f.gender.errors">
                <div *ngIf="f.gender.errors.required">Please select gender</div>
              </div>
            </div>

            <div class="form-group half">
              <label for="country" class="form-label">Country <span class="required">*</span></label>
              <div class="input-wrapper dropdown-wrapper">
                <i class="fas fa-globe input-icon"></i>
                <p-dropdown
                  inputId="country"
                  [options]="countrylist"
                  [filter]="true"
                  formControlName="country"
                  (onChange)="getStates($event)"
                  placeholder="Select country"
                  optionLabel="name"
                  class="form-dropdown"
                  [class.error]="submitted && f.country.errors"
                ></p-dropdown>
              </div>
              <div class="error-message" *ngIf="submitted && f.country.errors">
                <div *ngIf="f.country.errors.required">Please select country</div>
              </div>
            </div>
          </div>
        </div>        <!-- Submit Buttons -->
        <div class="form-actions">
          <button
            pButton
            pRipple
            type="submit"
            class="register-btn"
            [disabled]="!userForm.valid || submitted"
            [class.loading]="submitted"
          >
            <span *ngIf="!submitted">Create Account</span>
            <span *ngIf="submitted">
              <i class="fas fa-spinner fa-spin"></i>
              Creating Account...
            </span>
          </button>

          <button
            pButton
            pRipple
            type="button"
            label="Reset Form"
            icon="pi pi-refresh"
            (click)="onReset()"
            class="reset-btn"
          ></button>

          <button
            pButton
            pRipple
            type="button"
            label="Back to Login"
            icon="pi pi-arrow-left"
            class="back-btn"
            (click)="backToLogin()"
          ></button>
        </div>
      </form>
    </div>
  </div>
</div>
